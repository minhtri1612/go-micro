{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 183,
  "lineage": "d6bd5780-60b9-2934-8eba-907dcb227d78",
  "outputs": {
    "ecr_registry_url": {
      "value": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
      "type": "string"
    },
    "repository_urls": {
      "value": {
        "api-gateway": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
        "client": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
        "inventory-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
        "notification-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
        "order-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
        "payment-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
        "product-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service"
      },
      "type": [
        "object",
        {
          "api-gateway": "string",
          "client": "string",
          "inventory-service": "string",
          "notification-service": "string",
          "order-service": "string",
          "payment-service": "string",
          "product-service": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "675613596870",
            "arn": "arn:aws:iam::675613596870:user/richard-tritran",
            "id": "675613596870",
            "user_id": "AIDAZ2TNVLTDLPGYY3EGW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lNR0o0YlZWTGVYQXhSRnBSYTJWNlZYTlVlRk5hWm1wQ2VVbHVlVzFTYW1GalVGSnJWbXBsZFhkV1UySm9TamRxV2l0d09XMHhhV04wYWtKdlFtZzBkaTlxWkZkWVdYRlNieXRPWXpKSmMyVldPRll4YzBaYWRYSmFaWFVyYlU1aFluRjNaRGdyUW5oS1dGSXJObTVRYW05Uk9WcDZTVm80TUVwUmVHUnRVbXBVU21sb1QwNVFTMEZGVTNGR1ZGTlNiMkZRV0RaYWFXOTNWM2huYTBaM1ZXcFVMMFJaZGs5RFFteHJSV1p6UXpSM1R6VjRUbkJVTWxCU2JucGpUQ3RhTTJocFpEazBNbUk1Vlhwa1JqTnJTa0p2WlZGcVVHUndNV05pZWxwMWNUVlRPR2hoVG5FM2NsUnhaVVJ5Ym1kUU9XVnVaRmxuZVV4Nk4yc3dVSE5YVkZWbWJDODNOVW95VWtOb1UyOWpZeXM0V1ROeFMxTmtiemxoU0ZGMVVXOU1OSGR2WkVWMVpUUTJVazVCTnpKNlVsTmlXazl1Vm5NNWVrUnpla1JWSzAxVlExWndLMnMwY1ZsUmVVZGpTR2ROTVROb2FVNUdja1JQVFhOQk0zWXZRbXR1ZWxJeWVXTnVTRmRZUVU5dlFYQTFha2d6ZW1wSk1FVXdZemROY0VNMFExSkljWGxqTld4b2VrWjZaVFpJY0dSeFJsVnlOWEZqTm5GWmNVSnVNSFZvWVZWV056QnFRMmQwTTFVMVpXbDRSV05WV21GU1UyWndOR3BKWlZKV1pUWllNVEIwZW1Sc1dVNXZUR3BQYlZGVVkzTkpaRVo2ZW5wU2NtaFZVV3M0TURaR2NFSlpNbVoxU25SR1JUazRSR2hDWTFob1IzTmljRGRDWkZKemJtZDRhVFZWVFdOUE5IVllRVzFEZVhndlZGSTRUMEo1UmxkTU5GWk9lSE5oWnpKMGEwOW1aME54ZEdkbWVUZG5WRnBSZFRsVlZ5ODVObU42YzFadGFrdzFSSFEwWm5KcVoxTnhWVzFZVFVSeVJWTTJaVEJNVFdaQmNGZHRTWE5zUms4NVJIRTJibkJxVFZCWVNFaDFZbEpLYkRkNE1pdEJaeXRzZW5KWmJWbHplRU5zVkd0a056bGhTamhPT0ZoU1QyWnBhblJaVm1GWGVYTTVRakZ2UW5ONlJ5OHhNMjlMSzNKUVVUVlBla3h6Y2pKR1dGbFViVE5MTjBaMU0ydzFXamxNZGpaVGFXaERUbmxxZVVjeVp6aHdlVXRsY20wMVJYcDJWVXM1YlhFdlJWbFZVMFJoU0dWM1RGSTVhRU5OVDFWRE1GRkViVmR2VlhsVFdXSkxObkozVEc1T2NGbFFTSEI2U2xwcVZGWkZkMjFFV1cxNVprNUVTalpTWnpkS1QzTmxTSFppTVhkVldHVXpVWGxZVUhoUVMyZDFLMWhUWjNJMVowTktNRk15VDFOWlVGTkVlVWw1Tm5GVEwyTmlNRWd2VFVFelZIQkdXVFpxVlhRME1rMXpOMHN6TUM5cGNVOUxTbk5EVVU1d2RGaDNTM0F5WjBjM2VubFVTRlJSTURKMVdVOWpjVFJsUzFKbU0za3ZVRmxFTkVsdFUwdEVka2QxVm14TEx5ODNaMHc1S3pkaE5teHFOM0k1ZFVaNGFISnlOMlJZYUdod1UxSk9TMVpLTW1aUWJuWk5kbE5QYUhNMlMxQnhhMlpJTkRkbVEySmpTbmRWZFZKWksyTlRaMVJOVlM5bWNucHRhMVpLVFRJNWR6VkNNUzlIVDJwVFNtdzBkMWRPZVdvNVVpdG5XVkp1T0VwNVQyRkJRbXRyYkhCVmMzWndRV1JpWnpOQkwyY2lMQ0prWVhSaGEyVjVJam9pUVZGRlFrRklhRXg1YW5vM1VFcEZVRzFaWW5GSU5rRTJaaTkzVjA1NmVYbzFRa3RoTXpkQ2JrSlFjMEY1ZFVZeFMxRkJRVUZJTkhkbVFWbEtTMjlhU1doMlkwNUJVV05IYjBjNGQySlJTVUpCUkVKdlFtZHJjV2hyYVVjNWR6QkNRbmRGZDBobldVcFpTVnBKUVZkVlJFSkJSWFZOUWtWRlJFczVORVIyTWpGWlZrSk5UbWxYVGpSM1NVSkZTVUUzU0RWTGIyNTJNa2N2U1hOTmFYVlNTbUZyU1VOV1kwTk1lVnBSVEZaRWJXUm9ZMWg1VkZSNmFsRkNUbHBKWlhGT00wSk5TRlZOUjJoa1dXVXdORGhFTWtGaVNHbExRbGRKUWt0V1VYZHBjejBpTENKMlpYSnphVzl1SWpvaU1pSXNJblI1Y0dVaU9pSkVRVlJCWDB0RldTSXNJbVY0Y0dseVlYUnBiMjRpT2pFM05qQTBPRGt3T0RCOQ==",
            "expires_at": "2025-10-15T00:44:40Z",
            "id": "ap-southeast-2",
            "password": "eyJwYXlsb2FkIjoiMGJ4bVVLeXAxRFpRa2V6VXNUeFNaZmpCeUlueW1SamFjUFJrVmpldXdWU2JoSjdqWitwOW0xaWN0akJvQmg0di9qZFdYWXFSbytOYzJJc2VWOFYxc0ZadXJaZXUrbU5hYnF3ZDgrQnhKWFIrNm5Qam9ROVp6SVo4MEpReGRtUmpUSmloT05QS0FFU3FGVFNSb2FQWDZaaW93V3hna0Z3VWpUL0RZdk9DQmxrRWZzQzR3TzV4TnBUMlBSbnpjTCtaM2hpZDk0MmI5VXpkRjNrSkJvZVFqUGRwMWNielp1cTVTOGhhTnE3clRxZURybmdQOWVuZFlneUx6N2swUHNXVFVmbC83NUoyUkNoU29jYys4WTNxS1NkbzlhSFF1UW9MNHdvZEV1ZTQ2Uk5BNzJ6UlNiWk9uVnM5ekRzekRVK01VQ1ZwK2s0cVlReUdjSGdNMTNoaU5GckRPTXNBM3YvQmtuelIyeWNuSFdYQU9vQXA1akgzempJMEUwYzdNcEM0Q1JIcXljNWxoekZ6ZTZIcGRxRlVyNXFjNnFZcUJuMHVoYVVWNzBqQ2d0M1U1ZWl4RWNVWmFSU2ZwNGpJZVJWZTZYMTB0emRsWU5vTGpPbVFUY3NJZEZ6enpScmhVUWs4MDZGcEJZMmZ1SnRGRTk4RGhCY1hoR3NicDdCZFJzbmd4aTVVTWNPNHVYQW1DeXgvVFI4T0J5RldMNFZOeHNhZzJ0a09mZ0NxdGdmeTdnVFpRdTlVVy85NmN6c1Ztakw1RHQ0ZnJqZ1NxVW1YTURyRVM2ZTBMTWZBcFdtSXNsRk85RHE2bnBqTVBYSEh1YlJKbDd4MitBZytsenJZbVlzeENsVGtkNzlhSjhOOFhST2ZpanRZVmFXeXM5QjFvQnN6Ry8xM29LK3JQUTVPekxzcjJGWFlUbTNLN0Z1M2w1WjlMdjZTaWhDTnlqeUcyZzhweUtlcm01RXp2VUs5bXEvRVlVU0RhSGV3TFI5aENNT1VDMFFEbVdvVXlTWWJLNnJ3TG5OcFlQSHB6SlpqVFZFd21EWW15Zk5ESjZSZzdKT3NlSHZiMXdVWGUzUXlYUHhQS2d1K1hTZ3I1Z0NKMFMyT1NZUFNEeUl5NnFTL2NiMEgvTUEzVHBGWTZqVXQ0Mk1zN0szMC9pcU9LSnNDUU5wdFh3S3AyZ0c3enlUSFRRMDJ1WU9jcTRlS1JmM3kvUFlENEltU0tEdkd1VmxLLy83Z0w5KzdhNmxqN3I5dUZ4aHJyN2RYaGhwU1JOS1ZKMmZQbnZNdlNPaHM2S1Bxa2ZINDdmQ2JjSndVdVJZK2NTZ1RNVS9mcnpta1ZKTTI5dzVCMS9HT2pTSmw0d1dOeWo5UitnWVJuOEp5T2FBQmtrbHBVc3ZwQWRiZzNBL2ciLCJkYXRha2V5IjoiQVFFQkFIaEx5ano3UEpFUG1ZYnFINkE2Zi93V056eXo1QkthMzdCbkJQc0F5dUYxS1FBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFREs5NER2MjFZVkJNTmlXTjR3SUJFSUE3SDVLb252MkcvSXNNaXVSSmFrSUNWY0NMeVpRTFZEbWRoY1h5VFR6alFCTlpJZXFOM0JNSFVNR2hkWWUwNDhEMkFiSGlLQldJQktWUXdpcz0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE3NjA0ODkwODB9",
            "proxy_endpoint": "https://675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
            "region": "ap-southeast-2",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "authorization_token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_lifecycle_policy",
      "name": "repository_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "api-gateway",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "api-gateway"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "api-gateway"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "client",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "client"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "client"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "inventory-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "inventory-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "inventory-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "notification-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "notification-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "notification-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "order-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "order-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "order-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "payment-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "payment-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "payment-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "product-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "product-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "product-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repositories",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/api-gateway",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-gateway",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "api-gateway",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "api-gateway",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/client",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "client",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "client",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "client",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/inventory-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "inventory-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "inventory-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "inventory-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/notification-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "notification-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "notification-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "notification-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/order-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "order-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "order-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "order-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/payment-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "payment-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "payment-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "payment-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/product-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "product-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "product-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "product-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "docker_compose",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "services:\n  # Client Frontend\n  client:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client:latest\n    ports:\n      - \"3011:80\"\n    environment:\n      - VITE_API_URL=http://localhost:8089\n    depends_on:\n      - api-gateway\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # API Gateway\n  api-gateway:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway:latest\n    ports:\n      - \"8089:8000\"\n    environment:\n      - PRODUCT_SERVICE_URL=http://product-service:8080\n      - ORDER_SERVICE_URL=http://order-service:8081\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n      - PAYMENT_SERVICE_URL=http://payment-service:8084\n    depends_on:\n      - product-service\n      - order-service\n      - inventory-service\n      - notification-service\n      - payment-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6381:6379\"\n    volumes:\n      - redis_data:/data\n    networks:\n      - microservices-network\n\n  # RabbitMQ\n  rabbitmq:\n    image: rabbitmq:3-management-alpine\n    ports:\n      - \"5672:5672\"\n      - \"15672:15672\"\n    environment:\n      - RABBITMQ_DEFAULT_USER=admin\n      - RABBITMQ_DEFAULT_PASS=admin123\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    networks:\n      - microservices-network\n\n  # Product Service\n  product-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - DB_HOST=product-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=products_db\n    depends_on:\n      - product-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Order Service\n  order-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service:latest\n    ports:\n      - \"8081:8081\"\n    environment:\n      - DB_HOST=order-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=orders_db\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - RABBITMQ_HOST=rabbitmq\n      - RABBITMQ_PORT=5672\n      - RABBITMQ_USER=admin\n      - RABBITMQ_PASS=admin123\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n    depends_on:\n      - order-db\n      - inventory-service\n      - notification-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Inventory Service\n  inventory-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service:latest\n    ports:\n      - \"8082:8082\"\n    environment:\n      - DB_HOST=inventory-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=inventory_db\n    depends_on:\n      - inventory-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Notification Service\n  notification-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service:latest\n    ports:\n      - \"8083:8083\"\n    environment:\n      - DB_HOST=notification-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=notifications_db\n    depends_on:\n      - notification-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Payment Service\n  payment-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service:latest\n    ports:\n      - \"8084:8084\"\n    environment:\n      - DB_HOST=payment-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=payments_db\n      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}\n    depends_on:\n      - payment-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Databases\n  product-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5441:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=products_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/product-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - product-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  order-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5442:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=orders_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/order-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - order-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  inventory-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5444:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=inventory_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/inventory-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - inventory-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  notification-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5445:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=notifications_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/notification-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - notification-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  payment-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5446:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=payments_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/payment-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - payment-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  # Prometheus Monitoring\n  prometheus:\n    image: prom/prometheus:latest\n    ports:\n      - \"9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    networks:\n      - microservices-network\n\nvolumes:\n  product-db-data:\n  order-db-data:\n  inventory-db-data:\n  notification-db-data:\n  payment-db-data:\n  redis_data:\n  rabbitmq_data:\n  prometheus_data:\n\nnetworks:\n  microservices-network:\n    driver: bridge\n",
            "content_base64": null,
            "content_base64sha256": "12lWsyIgtR2+SdWvxxHj1T196LxPqo/88Oq7K3hYf+A=",
            "content_base64sha512": "twLeGqF6c2kXDzqv7mXT3I00igG3UQuTnTRv3+KugLvbuIs9T1JAIp4B9KmB3FbeoYtJto+N6/sX3AFtng6q6w==",
            "content_md5": "3d5de542fc1dbedcb303ca47a01c73a1",
            "content_sha1": "aa101d978c2936144dbb4e681d213aeec902177f",
            "content_sha256": "d76956b32220b51dbe49d5afc711e3d53d7de8bc4faa8ffcf0eabb2b78587fe0",
            "content_sha512": "b702de1aa17a7369170f3aafee65d3dc8d348a01b7510b939d346fdfe2ae80bbdbb88b3d4f5240229e01f4a981dc56dea18b49b68f8debfb17dc016d9e0eaaeb",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./../docker-compose.ecr.yml",
            "id": "aa101d978c2936144dbb4e681d213aeec902177f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current",
            "null_resource.build_and_push_images"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_and_push_images",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "5659228623743721846",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "1816388029575757667",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "6036227883642065320",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "5632380287220907917",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "4883199858048302586",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "4771230283633310569",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "4132150247635285743",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
