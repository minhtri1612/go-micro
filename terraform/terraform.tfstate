{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 136,
  "lineage": "d6bd5780-60b9-2934-8eba-907dcb227d78",
  "outputs": {
    "ecr_registry_url": {
      "value": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
      "type": "string"
    },
    "repository_urls": {
      "value": {
        "api-gateway": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
        "client": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
        "inventory-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
        "notification-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
        "order-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
        "payment-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
        "product-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service"
      },
      "type": [
        "object",
        {
          "api-gateway": "string",
          "client": "string",
          "inventory-service": "string",
          "notification-service": "string",
          "order-service": "string",
          "payment-service": "string",
          "product-service": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "675613596870",
            "arn": "arn:aws:iam::675613596870:user/richard-tritran",
            "id": "675613596870",
            "user_id": "AIDAZ2TNVLTDLPGYY3EGW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lUR2MzV0RWamRsVktTR0ZHVjBaQmIxUk5TRlp0VDFOS2FraGxSMmRCVUVreE0wMVhTbmRWVjNSVFFuVnFTbkJ2YWt0TlF6VjNZV2RSVFZwMWVFaHlabFV6ZUZnM1kyMWpUVVV4ZGxBdmFrcG9UakYwUjJ4V1dFSlJiSEpRYldjM1RHOWlkMHczYUZoTEwxRk9NRkZSVEdsUmFFTjZjV1JCTTNSbFdVeG9Va3hYZFZkUVExbHBUVGRpTm1kM00yRnJiVWx0Y1hZd05rZFRObEJMVFZGV2J5OHdVRzVGY0cxb1R5dElSMFJ3VWtOaE1WWXZOVnA0T0M5Qk0zSmFPRlJLUjBkb1lWRXpPSFJ0WTA0M2RuSjVabWM1SzFoQ2MwMW1aakp5U2t4TVNWWlhNWFJEYTI5RVJsWkJOU3RNTjI5QlIzUTVlRWhQU0dGTWVrTktiaXN4Y0ROaFR6VnRSVFIxWVdodU9FbFZVV3Q0VTNNMmJHWTVVMUpYV25KUU9XNXJSMGRCV1U1MlkwTm5WbEF2YjFnd2Fta3ZhMlJDYlVGaVRuUXZURGhGUjNkRFlXeFZRbTlzTVV0bVQwUXhla3RXTVROa1UwaEhRalZvTVRkSVlXaG1kaXRITWxCWFpFaEhLMGxOZDFaalkxY3JNV1JUUjNCWlJ6RkhZMVJDTjA5SVZtVkxNeXQzV25oUWRFSnFSMll2WjNSb1NWSkRVVEZIVTFwcEwwc3pVRTVaTDBSVE5VRllRVWRGUzJoemRXeGFjM1V4YmpCM1NDdHNRMmx2YzBWQldYZHJiblV2YjNoSmFTOXFTVlJhVnpadFkwTmFSelJYY2pjeVJrMU1hM1ZWZDFGelpFTTNla050TjFwb04wb3pVa1JzTWpCc2RsaDNUamgzTHpsb1JHMTZkVVJoUVVkWWNrRmlPU3R3TTAweU5tSmxVR2RxTUZkNVVqVmxjWEl2VW5OTU5UUTVORlp0V1VreVNuWkpaMUZGYVc5SWRUVk1TRlUzZFhaRVUyMTZNVEpJVFVOTlpFOXBjRU5UUjA5RVlsZFJVWEVyYWtscmFWcHRLME5EU3k5b1NFTnBWSGxFTVRWdlNWRlRkMHQ2ZDNaVE9HeDBUVEVyUTBvemRsZzVlalkzVW1GNVNGWndlVVZOTVhkQ2JtOW9RbEpNWmtvMlNYRnBMMnh5YUV3MVRtcFRTbU5EY0d0QmJFdHRVR2Q1V2tWR2IyUmlPRXBKTldoM1VtTk5LMEZwTm1KUmVqbHVkR0V2YzA0eGFUTkpielpXTjJVNFRYcGpjbVI1Y2t0UE4wTlFRVWMzWnl0bE0wODVjMkpVZUUxd1dXZFNTamxsVkZKUVdXZzFTVzFCWm0wdldrd3dNMWxpYUZGTFYySXdMM0ZoT0U1RVZHSkdlRTVaTTJWdFpsSkJXazlSZVRnNVYyRmxlRXRZYUd0NU9YWXZVMk16VnpCTk1GUXJTa1ozT1hSNE5qUTJjMDFpZW1OSmFtaERTbGxvZVdWSlJIaFlZWFIzTW1JM2FXUklTMDVMVkhGdFlWazFPVkJyYmpkcFVpdEJMek5SVVNzeFMxZ3dVa292V0cwNFExSllVeTlJTDJsckszaHFZbFIzTjBjMGNHbHVSMWxzYlZSbFVtUjNaVlJYYmpoQldHVmxlRmRqVlZFNWJrTTRUa0p2WkVwaFlUbElaVWt5T1ZaWGMyVnZNR3hDTmt0RFNWZDJibVJCYlU1dk0yMW9lSFZ2Ym5Sb2NqTkRTRU5CT1hOeFNrb3dOa3hKT1ZocWVWTkNaRzVJUmxKdmRITTFaMVJ3VGt0d05tczVhVkpVVEhGMFVFb3JWVGxYWXpsaVFUQnJkRkZhVVZoNmRqVWlMQ0prWVhSaGEyVjVJam9pUVZGRlFrRklhRXg1YW5vM1VFcEZVRzFaWW5GSU5rRTJaaTkzVjA1NmVYbzFRa3RoTXpkQ2JrSlFjMEY1ZFVZeFMxRkJRVUZJTkhkbVFWbEtTMjlhU1doMlkwNUJVV05IYjBjNGQySlJTVUpCUkVKdlFtZHJjV2hyYVVjNWR6QkNRbmRGZDBobldVcFpTVnBKUVZkVlJFSkJSWFZOUWtWRlJFSjBaMDV6TlVsWE1GZzRkVVpxU1ZOblNVSkZTVUUzWXlzMmFtNHdRa3hpUlhZNVkyeGtNakZRYTIwdk5UTm1SMUprYWxkVlF6SklWVXAyUmtsTVUwTk1aRXcxTmpsTWRGcFRTa3R5WTFaV00wNW1SbHBUVEZoeFRHMXZkR1E1UldOM1pFRTVPRDBpTENKMlpYSnphVzl1SWpvaU1pSXNJblI1Y0dVaU9pSkVRVlJCWDB0RldTSXNJbVY0Y0dseVlYUnBiMjRpT2pFM05qQXpOamt6T0RKOQ==",
            "expires_at": "2025-10-13T15:29:42Z",
            "id": "ap-southeast-2",
            "password": "eyJwYXlsb2FkIjoiTGc3WDVjdlVKSGFGV0ZBb1RNSFZtT1NKakhlR2dBUEkxM01XSndVV3RTQnVqSnBvaktNQzV3YWdRTVp1eEhyZlUzeFg3Y21jTUUxdlAvakpoTjF0R2xWWEJRbHJQbWc3TG9id0w3aFhLL1FOMFFRTGlRaEN6cWRBM3RlWUxoUkxXdVdQQ1lpTTdiNmd3M2FrbUltcXYwNkdTNlBLTVFWby8wUG5FcG1oTytIR0RwUkNhMVYvNVp4OC9BM3JaOFRKR0doYVEzOHRtY043dnJ5Zmc5K1hCc01mZjJySkxMSVZXMXRDa29ERlZBNStMN29BR3Q5eEhPSGFMekNKbisxcDNhTzVtRTR1YWhuOElVUWt4U3M2bGY5U1JXWnJQOW5rR0dBWU52Y0NnVlAvb1gwamkva2RCbUFiTnQvTDhFR3dDYWxVQm9sMUtmT0QxektWMTNkU0hHQjVoMTdIYWhmditHMlBXZEhHK0lNd1ZjY1crMWRTR3BZRzFHY1RCN09IVmVLMyt3WnhQdEJqR2YvZ3RoSVJDUTFHU1ppL0szUE5ZL0RTNUFYQUdFS2hzdWxac3UxbjB3SCtsQ2lvc0VBWXdrbnUvb3hJaS9qSVRaVzZtY0NaRzRXcjcyRk1Ma3VVd1FzZEM3ekNtN1poN0ozUkRsMjBsdlh3Tjh3LzloRG16dURhQUdYckFiOStwM00yNmJlUGdqMFd5UjVlcXIvUnNMNTQ5NFZtWUkySnZJZ1FFaW9IdTVMSFU3dXZEU216MTJITUNNZE9pcENTR09EYldRUXEraklraVptK0NDSy9oSENpVHlEMTVvSVFTd0t6d3ZTOGx0TTErQ0ozdlg5ejY3UmF5SFZweUVNMXdCbm9oQlJMZko2SXFpL2xyaEw1TmpTSmNDcGtBbEttUGd5WkVGb2RiOEpJNWh3UmNNK0FpNmJRejludGEvc04xaTNJbzZWN2U4TXpjcmR5cktPN0NQQUc3ZytlM085c2JUeE1wWWdSSjllVFJQWWg1SW1BZm0vWkwwM1liaFFLV2IwL3FhOE5EVGJGeE5ZM2VtZlJBWk9ReTg5V2FleEtYaGt5OXYvU2MzVzBNMFQrSkZ3OXR4NjQ2c01iemNJamhDSlloeWVJRHhYYXR3MmI3aWRIS05LVHFtYVk1OVBrbjdpUitBLzNRUSsxS1gwUkovWG04Q1JYUy9IL2lrK3hqYlR3N0c0cGluR1lsbVRlUmR3ZVRXbjhBWGVleFdjVVE5bkM4TkJvZEphYTlIZUkyOVZXc2VvMGxCNktDSVd2bmRBbU5vM21oeHVvbnRocjNDSENBOXNxSkowNkxJOVhqeVNCZG5IRlJvdHM1Z1RwTktwNms5aVJUTHF0UEorVTlXYzliQTBrdFFaUVh6djUiLCJkYXRha2V5IjoiQVFFQkFIaEx5ano3UEpFUG1ZYnFINkE2Zi93V056eXo1QkthMzdCbkJQc0F5dUYxS1FBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFREJ0Z05zNUlXMFg4dUZqSVNnSUJFSUE3Yys2am4wQkxiRXY5Y2xkMjFQa20vNTNmR1JkaldVQzJIVUp2RklMU0NMZEw1NjlMdFpTSktyY1ZWM05mRlpTTFhxTG1vdGQ5RWN3ZEE5OD0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE3NjAzNjkzODJ9",
            "proxy_endpoint": "https://675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
            "region": "ap-southeast-2",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "authorization_token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_lifecycle_policy",
      "name": "repository_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "api-gateway",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "api-gateway"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "api-gateway"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "client",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "client"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "client"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "inventory-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "inventory-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "inventory-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "notification-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "notification-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "notification-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "order-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "order-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "order-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "payment-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "payment-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "payment-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "product-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "product-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "product-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repositories",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/api-gateway",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-gateway",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "api-gateway",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "api-gateway",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/client",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "client",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "client",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "client",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/inventory-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "inventory-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "inventory-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "inventory-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/notification-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "notification-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "notification-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "notification-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/order-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "order-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "order-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "order-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/payment-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "payment-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "payment-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "payment-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/product-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "product-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "product-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "product-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "docker_compose",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "services:\n  # Client Frontend\n  client:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client:latest\n    ports:\n      - \"3011:80\"\n    environment:\n      - VITE_API_URL=http://localhost:8089\n    depends_on:\n      - api-gateway\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # API Gateway\n  api-gateway:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway:latest\n    ports:\n      - \"8089:8000\"\n    environment:\n      - PRODUCT_SERVICE_URL=http://product-service:8080\n      - ORDER_SERVICE_URL=http://order-service:8081\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n      - PAYMENT_SERVICE_URL=http://payment-service:8084\n    depends_on:\n      - product-service\n      - order-service\n      - inventory-service\n      - notification-service\n      - payment-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6381:6379\"\n    volumes:\n      - redis_data:/data\n    networks:\n      - microservices-network\n\n  # RabbitMQ\n  rabbitmq:\n    image: rabbitmq:3-management-alpine\n    ports:\n      - \"5672:5672\"\n      - \"15672:15672\"\n    environment:\n      - RABBITMQ_DEFAULT_USER=admin\n      - RABBITMQ_DEFAULT_PASS=admin123\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    networks:\n      - microservices-network\n\n  # Product Service\n  product-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - DB_HOST=product-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=products_db\n    depends_on:\n      - product-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Order Service\n  order-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service:latest\n    ports:\n      - \"8081:8081\"\n    environment:\n      - DB_HOST=order-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=orders_db\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - RABBITMQ_HOST=rabbitmq\n      - RABBITMQ_PORT=5672\n      - RABBITMQ_USER=admin\n      - RABBITMQ_PASS=admin123\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n    depends_on:\n      - order-db\n      - inventory-service\n      - notification-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Inventory Service\n  inventory-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service:latest\n    ports:\n      - \"8082:8082\"\n    environment:\n      - DB_HOST=inventory-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=inventory_db\n    depends_on:\n      - inventory-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Notification Service\n  notification-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service:latest\n    ports:\n      - \"8083:8083\"\n    environment:\n      - DB_HOST=notification-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=notifications_db\n    depends_on:\n      - notification-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Payment Service\n  payment-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service:latest\n    ports:\n      - \"8084:8084\"\n    environment:\n      - DB_HOST=payment-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=payments_db\n      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}\n    depends_on:\n      - payment-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Databases\n  product-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5441:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=products_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/product-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - product-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  order-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5442:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=orders_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/order-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - order-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  inventory-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5444:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=inventory_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/inventory-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - inventory-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  notification-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5445:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=notifications_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/notification-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - notification-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  payment-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5446:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=payments_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/payment-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - payment-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  # Prometheus Monitoring\n  prometheus:\n    image: prom/prometheus:latest\n    ports:\n      - \"9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    networks:\n      - microservices-network\n\nvolumes:\n  product-db-data:\n  order-db-data:\n  inventory-db-data:\n  notification-db-data:\n  payment-db-data:\n  redis_data:\n  rabbitmq_data:\n  prometheus_data:\n\nnetworks:\n  microservices-network:\n    driver: bridge\n",
            "content_base64": null,
            "content_base64sha256": "12lWsyIgtR2+SdWvxxHj1T196LxPqo/88Oq7K3hYf+A=",
            "content_base64sha512": "twLeGqF6c2kXDzqv7mXT3I00igG3UQuTnTRv3+KugLvbuIs9T1JAIp4B9KmB3FbeoYtJto+N6/sX3AFtng6q6w==",
            "content_md5": "3d5de542fc1dbedcb303ca47a01c73a1",
            "content_sha1": "aa101d978c2936144dbb4e681d213aeec902177f",
            "content_sha256": "d76956b32220b51dbe49d5afc711e3d53d7de8bc4faa8ffcf0eabb2b78587fe0",
            "content_sha512": "b702de1aa17a7369170f3aafee65d3dc8d348a01b7510b939d346fdfe2ae80bbdbb88b3d4f5240229e01f4a981dc56dea18b49b68f8debfb17dc016d9e0eaaeb",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./../docker-compose.ecr.yml",
            "id": "aa101d978c2936144dbb4e681d213aeec902177f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current",
            "null_resource.build_and_push_images"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_and_push_images",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "657889343284410103",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "7679639483209031330",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "6432075940011839342",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "3991856674021281794",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "246021042209675028",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "24872924682873921",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "6985981490436823480",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
