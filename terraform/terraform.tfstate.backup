{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 75,
  "lineage": "d6bd5780-60b9-2934-8eba-907dcb227d78",
  "outputs": {
    "ecr_registry_url": {
      "value": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
      "type": "string"
    },
    "repository_urls": {
      "value": {
        "api-gateway": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
        "client": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
        "inventory-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
        "notification-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
        "order-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
        "payment-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
        "product-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service"
      },
      "type": [
        "object",
        {
          "api-gateway": "string",
          "client": "string",
          "inventory-service": "string",
          "notification-service": "string",
          "order-service": "string",
          "payment-service": "string",
          "product-service": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "675613596870",
            "arn": "arn:aws:iam::675613596870:user/richard-tritran",
            "id": "675613596870",
            "user_id": "AIDAZ2TNVLTDLPGYY3EGW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lWRkExU0ZWNlJVUkRaRU5JTVVaa0wyOXlkREU0Um1weGEwbDBXVlV4UVU1amVFOVVUbFF2VTB0VFUwRTViRTVWVjNOSE1FRk5NWEJuWVZGbmMydERZVkp2ZFU5UlpsZE9RMkY2SzA5QlFVY3pjVm93TmtWaFRtRk5NM1F4WjFCRlJtOHZNWFpvUzFocUwyODNNblZJYkVKcGNIaHNkVEpCT0c1aFRFb3hVRnBXU1ZaWVJXVkRPVUpzU2pGcU9WbDBVMDVaWWswNGMySjFNa0phV0VKSVNGWkZkMUkwZDI4d1IzcFhWREZqVW5RcmExVTBZV2cwZUZkSU1HczVNRWRQYWs0NE5sUnJhVGhRVVhGdE9HZzVPRzF1TDJwcFlubzJjVmhtZEU5dFREZFpWa2gzZWtwelZpODRNazFRV21zMGRIbGpjMVE1VHpkaU5uRmpiRlJDVUdaM01WZEhWblpOVW1wMFJrbHNjV1JLYjIxb1dsQlZibGd6TlRoS1REQjNaVm81T0ZGRVpsZG5NMjh2Vm5kR0t5ODNZbk13VTJ4MVkyMDVlVFJuWVVwamNqVTViSEIzTWtkeWVFbzJkMEl6Y2poTmRGZFZVa3BMZURKcFZIQnVXamc1VUZSVlNGVjFjM3BETXpOWWNuWmtRV2hGY1VkYWF5OW1ORTFOU0dwd1VGbHhla1UxVm5oV2IyWllWamw2VXpGb1YyVnVWaXRJVDI5MlIwaDRNVzU1Y0ROVVdrSnRLMDgzTjNrdmNEVk1RMEpITVU5aFRUTTFUazVxWVc1R2VIbEpkbWhhY1U5VmNXcFBkR2hOU1hkWU5HcDFkbE15ZUU0d2JYSmtXWEpsYjBwSVNYcDNjbXhsU1doNWRIWnRWV2x2VkRkMk1YSmtVV0ZVUm14MmRtZHJSMmRhZFhGMFYxVnBRbWhDZWtOeU0zY3dXRmRUY0dSalVIbDNWVEJoUVZKU2JubHZVVlZLUVZBd2JUaEZMMFpJU0dKWlpIcDNVRFY2VVVST2RHaDJiU3Q1VDJsTVMwdFlVa3BuTlRKbVpWTXJXRTlqTkdKM1JVSllkRGxUU1ZsbVYxUldhWGQxUVRKTmRWWlNRVUV6TW5aclpFZFJMMUpvWm5GYWJsbHJaelZ2YXpZclJFVkhVbXBMVUhkNFFTOXNOWGhWYTFwM2IxcFBRbmh1YWswM2NUUlBkMmh4WmtSTlFXWjBPREJ2TlRCUVFYaGpaMDVKTW05M2NGWndiR2xOZVdOdU1HWTNjVzlOVVM5WGNGZDVaVGhXUjBwamNFaHhkVTFRU0d4NlZGZG5ia1U1UTNWUUx6ZG1jRlpWUlZKMmVrRjFRWGt5UW5wQ01sRnRUMDFRU1haek1UaEZUa05LT1dKWVkyOVRSMXBHT0c1TU5ubHZVM2QxV2xWV1NHSm9Namx6UWs1TWVuVnlSblpCYW5oUFNrdE9Wa0ZrUm5od1pXRTFlbUZTZVVSTUszUllTa05MT0dscGRURTRaMWxJVGtZeFduWTJZVlU1Y1dORVpHVXlkVFJYYzBGcFVYSkxaR1JHTkhNdlVYWndUVFJCWXpaRGNETlhkbXBXTUV0aUsxTlpkbWd5UVVkRFJETjJWR28yU1VabWVqSjVRVVU1VG01VU4waDBRa0Y1ZFV4NmQxRXlWMjVXUVZsaVVHNVdaVk5sVGxWb2FFeDViUzk2Vkc5amJqWkhUMlJMZGpsTVdYSXZibE15WTJWSlRGaE5lRVp3ZGs1alNuZHlkaXRRTkZsUFRVUTBibTFhV0N0SlREQkJRMHhrTjAxWGFXcHdaR0pwVjNkWVRYVkpWbGRaZW1OTGRVaG1ZbGxtSzFCaWFDdFNZVkZqV2pseVozVWlMQ0prWVhSaGEyVjVJam9pUVZGRlFrRklhRXg1YW5vM1VFcEZVRzFaWW5GSU5rRTJaaTkzVjA1NmVYbzFRa3RoTXpkQ2JrSlFjMEY1ZFVZeFMxRkJRVUZJTkhkbVFWbEtTMjlhU1doMlkwNUJVV05IYjBjNGQySlJTVUpCUkVKdlFtZHJjV2hyYVVjNWR6QkNRbmRGZDBobldVcFpTVnBKUVZkVlJFSkJSWFZOUWtWRlJFUlhlV3hYV1N0RlNtcHFiR2xIY2pWblNVSkZTVUUzZWl0U1VtTnhjR0prWW5wbUswZE9kMmhrTDNaVVJrUnZORFI0ZDJoMFlsTlNkMUZhYjJ4TlQxZHVRa1ppVjFONmRHNXRVblJaVFdoNlNrRnNlRWhFV1ZaMk4xZGxiMGxqVkRrNWNuUkhNRDBpTENKMlpYSnphVzl1SWpvaU1pSXNJblI1Y0dVaU9pSkVRVlJCWDB0RldTSXNJbVY0Y0dseVlYUnBiMjRpT2pFM05qQXpNamsxTmpkOQ==",
            "expires_at": "2025-10-13T04:26:07Z",
            "id": "ap-southeast-2",
            "password": "eyJwYXlsb2FkIjoiVFA1SFV6RURDZENIMUZkL29ydDE4Rmpxa0l0WVUxQU5jeE9UTlQvU0tTU0E5bE5VV3NHMEFNMXBnYVFnc2tDYVJvdU9RZldOQ2F6K09BQUczcVowNkVhTmFNM3QxZ1BFRm8vMXZoS1hqL283MnVIbEJpcHhsdTJBOG5hTEoxUFpWSVZYRWVDOUJsSjFqOVl0U05ZYk04c2J1MkJaWEJISFZFd1I0d28wR3pXVDFjUnQra1U0YWg0eFdIMGs5MEdPak44NlRraThQUXFtOGg5OG1uL2ppYno2cVhmdE9tTDdZVkh3ekpzVi84Mk1QWms0dHljc1Q5TzdiNnFjbFRCUGZ3MVdHVnZNUmp0RklscWRKb21oWlBVblgzNThKTDB3ZVo5OFFEZldnM28vVndGKy83YnMwU2x1Y205eTRnYUpjcjU5bHB3MkdyeEo2d0IzcjhNdFdVUkpLeDJpVHBuWjg5UFRVSFV1c3pDMzNYcnZkQWhFcUdaay9mNE1NSGpwUFlxekU1VnhWb2ZYVjl6UzFoV2VuVitIT292R0h4MW55cDNUWkJtK083N3kvcDVMQ0JHMU9hTTM1Tk5qYW5GeHlJdmhacU9VcWpPdGhNSXdYNGp1dlMyeE4wbXJkWXJlb0pISXp3cmxlSWh5dHZtVWlvVDd2MXJkUWFURmx2dmdrR2dadXF0V1VpQmhCekNyM3cwWFdTcGRjUHl3VTBhQVJSbnlvUVVKQVAwbThFL0ZISGJZZHp3UDV6UUROdGh2bSt5T2lMS0tYUkpnNTJmZVMrWE9jNGJ3RUJYdDlTSVlmV1RWaXd1QTJNdVZSQUEzMnZrZEdRL1JoZnFabllrZzVvazYrREVHUmpLUHd4QS9sNXhVa1p3b1pPQnhuak03cTRPd2hxZkRNQWZ0ODBvNTBQQXhjZ05JMm93cFZwbGlNeWNuMGY3cW9NUS9XcFd5ZThWR0pjcEhxdU1QSGx6VFdnbkU5Q3VQLzdmcFZVRVJ2ekF1QXkyQnpCMlFtT01QSXZzMThFTkNKOWJYY29TR1pGOG5MNnlvU3d1WlVWSGJoMjlzQk5MenVyRnZBanhPSktOVkFkRnhwZWE1emFSeURMK3RYSkNLOGlpdTE4Z1lITkYxWnY2YVU5cWNEZGUydTRXc0FpUXJLZGRGNHMvUXZwTTRBYzZDcDNXdmpWMEtiK1NZdmgyQUdDRDN2VGo2SUZmejJ5QUU5Tm5UN0h0QkF5dUx6d1EyV25WQVliUG5WZVNlTlVoaEx5bS96VG9jbjZHT2RLdjlMWXIvblMyY2VJTFhNeEZwdk5jSndyditQNFlPTUQ0bm1aWCtJTDBBQ0xkN01XaWpwZGJpV3dYTXVJVldZemNLdUhmYllmK1BiaCtSYVFjWjlyZ3UiLCJkYXRha2V5IjoiQVFFQkFIaEx5ano3UEpFUG1ZYnFINkE2Zi93V056eXo1QkthMzdCbkJQc0F5dUYxS1FBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFRERXeWxXWStFSmpqbGlHcjVnSUJFSUE3eitSUmNxcGJkYnpmK0dOd2hkL3ZURkRvNDR4d2h0YlNSd1Fab2xNT1duQkZiV1N6dG5tUnRZTWh6SkFseEhEWVZ2N1dlb0ljVDk5cnRHMD0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE3NjAzMjk1Njd9",
            "proxy_endpoint": "https://675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
            "region": "ap-southeast-2",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "authorization_token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_lifecycle_policy",
      "name": "repository_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "api-gateway",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "api-gateway"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "api-gateway"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "client",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "client"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "client"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "inventory-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "inventory-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "inventory-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "notification-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "notification-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "notification-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "order-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "order-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "order-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "payment-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "payment-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "payment-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "product-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "product-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "product-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repositories",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/api-gateway",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-gateway",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "api-gateway",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "api-gateway",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/client",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "client",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "client",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "client",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/inventory-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "inventory-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "inventory-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "inventory-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/notification-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "notification-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "notification-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "notification-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/order-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "order-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "order-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "order-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/payment-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "payment-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "payment-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "payment-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/product-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "product-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "product-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "product-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "docker_compose",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "services:\n  # Client Frontend\n  client:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client:latest\n    ports:\n      - \"3011:80\"\n    environment:\n      - VITE_API_URL=http://localhost:8089\n    depends_on:\n      - api-gateway\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # API Gateway\n  api-gateway:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway:latest\n    ports:\n      - \"8089:8000\"\n    environment:\n      - PRODUCT_SERVICE_URL=http://product-service:8080\n      - ORDER_SERVICE_URL=http://order-service:8081\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n      - PAYMENT_SERVICE_URL=http://payment-service:8084\n    depends_on:\n      - product-service\n      - order-service\n      - inventory-service\n      - notification-service\n      - payment-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6381:6379\"\n    volumes:\n      - redis_data:/data\n    networks:\n      - microservices-network\n\n  # RabbitMQ\n  rabbitmq:\n    image: rabbitmq:3-management-alpine\n    ports:\n      - \"5672:5672\"\n      - \"15672:15672\"\n    environment:\n      - RABBITMQ_DEFAULT_USER=admin\n      - RABBITMQ_DEFAULT_PASS=admin123\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    networks:\n      - microservices-network\n\n  # Product Service\n  product-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - DB_HOST=product-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=products_db\n    depends_on:\n      - product-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Order Service\n  order-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service:latest\n    ports:\n      - \"8081:8081\"\n    environment:\n      - DB_HOST=order-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=orders_db\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - RABBITMQ_HOST=rabbitmq\n      - RABBITMQ_PORT=5672\n      - RABBITMQ_USER=admin\n      - RABBITMQ_PASS=admin123\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n    depends_on:\n      - order-db\n      - inventory-service\n      - notification-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Inventory Service\n  inventory-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service:latest\n    ports:\n      - \"8082:8082\"\n    environment:\n      - DB_HOST=inventory-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=inventory_db\n    depends_on:\n      - inventory-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Notification Service\n  notification-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service:latest\n    ports:\n      - \"8083:8083\"\n    environment:\n      - DB_HOST=notification-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=notifications_db\n    depends_on:\n      - notification-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Payment Service\n  payment-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service:latest\n    ports:\n      - \"8084:8084\"\n    environment:\n      - DB_HOST=payment-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=payments_db\n      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}\n    depends_on:\n      - payment-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Databases\n  product-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5441:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=products_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/product-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - product-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  order-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5442:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=orders_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/order-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - order-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  inventory-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5444:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=inventory_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/inventory-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - inventory-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  notification-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5445:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=notifications_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/notification-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - notification-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  payment-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5446:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=payments_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/payment-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - payment-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  # Prometheus Monitoring\n  prometheus:\n    image: prom/prometheus:latest\n    ports:\n      - \"9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    networks:\n      - microservices-network\n\nvolumes:\n  product-db-data:\n  order-db-data:\n  inventory-db-data:\n  notification-db-data:\n  payment-db-data:\n  redis_data:\n  rabbitmq_data:\n  prometheus_data:\n\nnetworks:\n  microservices-network:\n    driver: bridge\n",
            "content_base64": null,
            "content_base64sha256": "12lWsyIgtR2+SdWvxxHj1T196LxPqo/88Oq7K3hYf+A=",
            "content_base64sha512": "twLeGqF6c2kXDzqv7mXT3I00igG3UQuTnTRv3+KugLvbuIs9T1JAIp4B9KmB3FbeoYtJto+N6/sX3AFtng6q6w==",
            "content_md5": "3d5de542fc1dbedcb303ca47a01c73a1",
            "content_sha1": "aa101d978c2936144dbb4e681d213aeec902177f",
            "content_sha256": "d76956b32220b51dbe49d5afc711e3d53d7de8bc4faa8ffcf0eabb2b78587fe0",
            "content_sha512": "b702de1aa17a7369170f3aafee65d3dc8d348a01b7510b939d346fdfe2ae80bbdbb88b3d4f5240229e01f4a981dc56dea18b49b68f8debfb17dc016d9e0eaaeb",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./../docker-compose.ecr.yml",
            "id": "aa101d978c2936144dbb4e681d213aeec902177f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current",
            "null_resource.build_and_push_images"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_and_push_images",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "8316948235256163737",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "1262310571799493405",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "2433865931184363753",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "5731825458944379854",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "4978693719666564800",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "3415786933355978300",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "1930384049704747129",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
