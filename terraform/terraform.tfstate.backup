{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 470,
  "lineage": "d6bd5780-60b9-2934-8eba-907dcb227d78",
  "outputs": {
    "ecr_registry_url": {
      "value": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
      "type": "string"
    },
    "instance_id": {
      "value": "i-063a613af164b63bf",
      "type": "string"
    },
    "instance_public_ip": {
      "value": "3.107.202.192",
      "type": "string"
    },
    "repository_urls": {
      "value": {
        "api-gateway": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
        "client": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
        "inventory-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
        "notification-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
        "order-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
        "payment-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
        "product-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service"
      },
      "type": [
        "object",
        {
          "api-gateway": "string",
          "client": "string",
          "inventory-service": "string",
          "notification-service": "string",
          "order-service": "string",
          "payment-service": "string",
          "product-service": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "ami",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_unsafe_filter": null,
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:ap-southeast-2::image/ami-0eeab253db7e765a9",
            "block_device_mappings": [
              {
                "device_name": "/dev/sda1",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-0b68b0b1a44bf86ce",
                  "throughput": "0",
                  "volume_initialization_rate": "0",
                  "volume_size": "8",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdb",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral0"
              },
              {
                "device_name": "/dev/sdc",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral1"
              }
            ],
            "boot_mode": "uefi-preferred",
            "creation_date": "2025-10-15T08:05:46.000Z",
            "deprecation_time": "2027-10-15T08:05:46.000Z",
            "description": "Canonical, Ubuntu, 22.04, amd64 jammy image",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0eeab253db7e765a9",
            "image_id": "ami-0eeab253db7e765a9",
            "image_location": "amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251015",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "imds_support": "",
            "include_deprecated": false,
            "kernel_id": "",
            "last_launched_time": "",
            "most_recent": true,
            "name": "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251015",
            "name_regex": null,
            "owner_id": "099720109477",
            "owners": [
              "099720109477"
            ],
            "platform": "",
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": "",
            "region": "ap-southeast-2",
            "root_device_name": "/dev/sda1",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0b68b0b1a44bf86ce",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "timeouts": null,
            "tpm_support": "",
            "uefi_data": null,
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "675613596870",
            "arn": "arn:aws:iam::675613596870:user/richard-tritran",
            "id": "675613596870",
            "user_id": "AIDAZ2TNVLTDLPGYY3EGW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lRMEV3YW1kelVHeEZVVVpVTDB3M2RuRk1SSGt5ZUhSd1owNXBNMlZVV21KUlVFaFdjbFI1UkdRM2FTdFVXRmhwTUhneWRVRndObVZ3TkVsNWNGUnRlazF6YUZVeVRHWk9lSFJpTlRaWWRYRXliRlJTTVhoME1YbExWVTB5YXpsbFpuWTRaR1k1VlhOclkzTnlVbmt2WXlzelVqQmpiMVJpY0dSaE5FcEJkVEpWUjBkWVNGUTJUazFvYmxKYVdXVmplRkZLV25VMk9EVktibEJTU2s4elUxazNTMmhGWnpObGJXdFJkRGR1YldsYWJUaGtXRGRNYTBoeWRXUnBOaTh4ZUZOaE5UWlZaRlp5UlZaTVppdExjRE0wT1hSQk9HVTNXakpqVGlzMlR6UlNTMVV3YTFCb2FYQTBObkZwYWtwaVdtTm9Rek4yZEM4MlIzSTRLMlpDYkdNek5GTlZjeTlyU0hwWWFWQTFOWHBHU2pSUFNEbEtiblpFVXpKVVJ6RjRhSFpUTlV3d1JuaFJWRWdyUm5wc1MyWnVPR2xRUTJ4clJtNW1aMFl6T1hoRWFFTkpXbUVyVFVSTGNVbHdZMUpLVlhkVmNFVmlLeko1WTFjMlVXdEVjVTVoZEhNMVZqZE9XREZQWW0xWVQwTnhRMlZOU0VSS2NrZ3pkelZvVURWd1FuQjJjVXhhYWtKNk4zSXJXRzUwYmtSc2NuWnpWMjFNWW5BNGVYaGlTblo1VVN0YVNVbFlaMHh4UjJVNFJEUk1XV3RrWVUxcVprcHNjVEJxTm5wRlJ6TjNibkp5TWtSdGMzWkxPSGszTm1Wa01uZ3ZabnA2TTBadlpHYzFWMVZNV1U1bGJqSm1lV0pZV2pnNFVpdE9UakJoVTFGT1JTczVibHBUWjFZMU1ESkNaREJyUkZwbmExZFFZVlpMZUU5WlJITmxOa1Z6ZEhOWGNIQTBaVE40TlVGQldGSjRNbk5RZDJSbFdWWnlTMUZJUTB4MFFtUk9WemQ2TkZkR1dFcEhOV0Z0TldOVWFXOTJTM2t5Ukc5TVpqVlZNVXRTV1V0dksydFdXbTVESzNZck5tWlJTMFkyTkdsUVJtSnNSbVZIUW1oNlJEbDJSVWxYY1VSNGVFNW9NV054U0c5WFR6Wk1VRFpWYzI1dVNEaGhUVk5SYXpKTFQxTndNSEJ5VG1wcGR6SnRXVVU0VUUxTVZWbFhZeTgxUldWek5FVk1VMGxyVG5kM1ExcE9NRGRyTDI1cWJuWndUMnR2TlV4eVNtSXZVR296YVhCbWFFTmFRV1ZoVVd3NGJIZFRkazAzU2toTFozbFhia0Z6Y0V4a2RHSXpUVGRvVTBaaE9IbHBOMjVzV2pndk9IbE9hMmt2TjAweVJHaFdObmhJZVRJd2JtZDVVREZrTml0WU9GVkVMM0p6YmtaNWEyMTVlV0pDVm1KdWFsWkdkM2RpZUhoYU1VOWhUR2N4UjBrck1IaDFPU3RSUW5aNmJEUjZiaTlvYTBwTVNEQndSVE5VWWtsQlVHOTRjSEJEYlRWVVFuaHFhREY2UXpNdlRreEJhRVJNYmt4WGJIaE1jak5IWVZscFZWVkNZazFrT1VRclZXZG5RbTlOWVUxSk16QnNXRWhWVlVOWEwwdHRVMGxZTTA1aVdubDBVMU5LWm5wRVpESnhPVFpOZVhBME5VdEpOazh3UTNoaGNrSkZkVkZ0Wms0NWNuUXhiRlprVm01Q2NrOHhhSEJGZUVRMldFMVViSFJUUWxoR09YWm5WMU12UkhBdmRIWTVVbVJoVlc5TlZFUjJkMEZNUW5kSmNXSm5PVzh4U20xVVVVeFRVU3RrWTBOT2JYcHlkVlF6Y1RKWFVrRWlMQ0prWVhSaGEyVjVJam9pUVZGRlFrRklhRXg1YW5vM1VFcEZVRzFaWW5GSU5rRTJaaTkzVjA1NmVYbzFRa3RoTXpkQ2JrSlFjMEY1ZFVZeFMxRkJRVUZJTkhkbVFWbEtTMjlhU1doMlkwNUJVV05IYjBjNGQySlJTVUpCUkVKdlFtZHJjV2hyYVVjNWR6QkNRbmRGZDBobldVcFpTVnBKUVZkVlJFSkJSWFZOUWtWRlJFTlNRMVJPY0dnd0t6UnFZWEZvWWtkUlNVSkZTVUUzVUdGSk9WTnlha2x0YVcxYVV6ZGlObEJPWldwV016VnFUeXQzTWtOd1lqRkVPVUZFUm1Kc1VFZG5WbEZ5THl0elVuWnhLMUlyY1dGdlFpODJWSGRJVFRWUlozazBiVWxsU2tkUFVqZ3JhejBpTENKMlpYSnphVzl1SWpvaU1pSXNJblI1Y0dVaU9pSkVRVlJCWDB0RldTSXNJbVY0Y0dseVlYUnBiMjRpT2pFM05qQTFOalEzTWpsOQ==",
            "expires_at": "2025-10-15T21:45:29Z",
            "id": "ap-southeast-2",
            "password": "eyJwYXlsb2FkIjoiQ0EwamdzUGxFUUZUL0w3dnFMRHkyeHRwZ05pM2VUWmJRUEhWclR5RGQ3aStUWFhpMHgydUFwNmVwNEl5cFRtek1zaFUyTGZOeHRiNTZYdXEybFRSMXh0MXlLVU0yazllZnY4ZGY5VXNrY3NyUnkvYyszUjBjb1RicGRhNEpBdTJVR0dYSFQ2Tk1oblJaWWVjeFFKWnU2ODVKblBSSk8zU1k3S2hFZzNlbWtRdDdubWlabThkWDdMa0hydWRpNi8xeFNhNTZVZFZyRVZMZitLcDM0OXRBOGU3WjJjTis2TzRSS1Uwa1BoaXA0NnFpakpiWmNoQzN2dC82R3I4K2ZCbGMzNFNVcy9rSHpYaVA1NXpGSjRPSDlKbnZEUzJURzF4aHZTNUwwRnhRVEgrRnpsS2ZuOGlQQ2xrRm5mZ0YzOXhEaENJWmErTURLcUlwY1JKVXdVcEViKzJ5Y1c2UWtEcU5hdHM1VjdOWDFPYm1YT0NxQ2VNSERKckgzdzVoUDVwQnB2cUxaakJ6N3IrWG50bkRscnZzV21MYnA4eXhiSnZ5UStaSUlYZ0xxR2U4RDRMWWtkYU1qZkpscTBqNnpFRzN3bnJyMkRtc3ZLOHk3NmVkMngvZnp6M0ZvZGc1V1VMWU5lbjJmeWJYWjg4UitOTjBhU1FORSs5blpTZ1Y1MDJCZDBrRFpna1dQYVZLeE9ZRHNlNkVzdHNXcHA0ZTN4NUFBWFJ4MnNQd2RlWVZyS1FIQ0x0QmROVzd6NFdGWEpHNWFtNWNUaW92S3kyRG9MZjVVMUtSWUtvK2tWWm5DK3YrNmZRS0Y2NGlQRmJsRmVHQmh6RDl2RUlXcUR4eE5oMWNxSG9XTzZMUDZVc25uSDhhTVNRazJLT1NwMHByTmppdzJtWUU4UE1MVVlXYy81RWVzNEVMU0lrTnd3Q1pOMDdrL25qbnZwT2tvNUxySmIvUGozaXBmaENaQWVhUWw4bHdTdk03SkhLZ3lXbkFzcExkdGIzTTdoU0ZhOHlpN25sWjgvOHlOa2kvN00yRGhWNnhIeTIwbmd5UDFkNitYOFVEL3JzbkZ5a215eWJCVmJualZGd3dieHhaMU9hTGcxR0krMHh1OStRQnZ6bDR6bi9oa0pMSDBwRTNUYklBUG94cHBDbTVUQnhqaDF6QzMvTkxBaERMbkxXbHhMcjNHYVlpVVVCYk1kOUQrVWdnQm9NYU1JMzBsWEhVVUNXL0ttU0lYM05iWnl0U1NKZnpEZDJxOTZNeXA0NUtJNk8wQ3hhckJFdVFtZk45cnQxbFZkVm5Cck8xaHBFeEQ2WE1UbHRTQlhGOXZnV1MvRHAvdHY5UmRhVW9NVER2d0FMQndJcWJnOW8xSm1UUUxTUStkY0NObXpydVQzcTJXUkEiLCJkYXRha2V5IjoiQVFFQkFIaEx5ano3UEpFUG1ZYnFINkE2Zi93V056eXo1QkthMzdCbkJQc0F5dUYxS1FBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFRENSQ1ROcGgwKzRqYXFoYkdRSUJFSUE3UGFJOVNyakltaW1aUzdiNlBOZWpWMzVqTyt3MkNwYjFEOUFERmJsUEdnVlFyLytzUnZxK1IrcWFvQi82VHdITTVRZ3k0bUllSkdPUjgraz0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE3NjA1NjQ3Mjl9",
            "proxy_endpoint": "https://675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
            "region": "ap-southeast-2",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "authorization_token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_lifecycle_policy",
      "name": "repository_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "api-gateway",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "api-gateway"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "api-gateway"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "client",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "client"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "client"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "inventory-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "inventory-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "inventory-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "notification-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "notification-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "notification-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "order-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "order-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "order-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "payment-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "payment-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "payment-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "product-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "product-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "product-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repositories",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/api-gateway",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-gateway",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "api-gateway",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "api-gateway",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/client",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "client",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "client",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "client",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/inventory-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "inventory-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "inventory-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "inventory-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/notification-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "notification-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "notification-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "notification-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/order-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "order-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "order-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "order-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/payment-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "payment-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "payment-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "payment-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/product-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "product-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "product-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "product-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-07d29ecb576421054",
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:elastic-ip/eipalloc-07d29ecb576421054",
            "associate_with_private_ip": null,
            "association_id": "",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-07d29ecb576421054",
            "instance": "",
            "ipam_pool_id": null,
            "network_border_group": "ap-southeast-2",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "ptr_record": "",
            "public_dns": "ec2-52-65-24-159.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "52.65.24.159",
            "public_ipv4_pool": "amazon",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-nat"
            },
            "tags_all": {
              "Name": "staging-nat"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "instance-profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:instance-profile/instance-profile",
            "create_date": "2025-10-15T09:45:34Z",
            "id": "instance-profile",
            "name": "instance-profile",
            "name_prefix": "",
            "path": "/",
            "role": "ec2-role",
            "tags": null,
            "tags_all": {},
            "unique_id": "AIPAZ2TNVLTDKC7M2KJ5N"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.instance-role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "instance-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/ec2-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-15T09:45:32Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ec2-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "ec2-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "tag-key": "tag-value"
            },
            "tags_all": {
              "tag-key": "tag-value"
            },
            "unique_id": "AROAZ2TNVLTDIVS2BWRTE"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "ec2-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0eeab253db7e765a9",
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:instance/i-063a613af164b63bf",
            "associate_public_ip_address": true,
            "availability_zone": "ap-southeast-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 1
              }
            ],
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "instance-profile",
            "id": "i-063a613af164b63bf",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "t2.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "jenkins-key",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-00ff0b0780f5b3fb0"
              }
            ],
            "primary_network_interface_id": "eni-00ff0b0780f5b3fb0",
            "private_dns": "ip-10-0-77-60.ap-southeast-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.77.60",
            "public_dns": "ec2-3-107-202-192.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "3.107.202.192",
            "region": "ap-southeast-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": null,
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-08cbf75456529f649",
                "volume_size": 30,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-0c6ad6dd72a42da19",
            "tags": {
              "Name": "jenkins-server"
            },
            "tags_all": {
              "Name": "jenkins-server"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n# Add any tools installation commands here\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-061805e50d0016b3e"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "i-063a613af164b63bf",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance-profile",
            "aws_iam_role.instance-role",
            "aws_key_pair.jenkins_key",
            "aws_security_group.security-group",
            "aws_subnet.public_zone1",
            "aws_vpc.main",
            "data.aws_ami.ami"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "igw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:internet-gateway/igw-0f62b4dd457396682",
            "id": "igw-0f62b4dd457396682",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-igw"
            },
            "tags_all": {
              "Name": "staging-igw"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "jenkins_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:key-pair/jenkins-key",
            "fingerprint": "46:cd:a3:08:44:21:23:ee:3c:16:c4:09:fe:5e:e1:a2",
            "id": "jenkins-key",
            "key_name": "jenkins-key",
            "key_name_prefix": "",
            "key_pair_id": "key-04ef999af37688abd",
            "key_type": "rsa",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCe7p2k10DblV3S4zwYBrljd5djKOQ55TG+1MOkFkpI97QUWL72p6n123nJ/ffXup4PlZ2l+JDAjus1njSOSCmTW5UREGrikR5NC4W6m8lt7ywCc5q4HYXMsUPVP1L98rR/wlbeQZf/oCTnGOjcyJ/l6/oUQfh3KhYAfg2nN2IdqeiHFhSuENF5HpPCkzTUPanfkE0FyBoccH3nHK86mWsSdSewIh2/hdUq8i3TtWJnWS2FFgq7llfQYtw+08QerdqBOqQqTIuskXN6xbg2Q8rKPl3iDSHM52fJCQpU6C1kKoHfqpddkgx7rnHiaAXJmsralO1pCPh0EgGYBfyldKH7gEA3ONJgtfi/Ti6gOD1tbf0i2fXdLVdDohHRa3Og+gRYBsTqL/T4AO9YWRF9guH9A+bAh2I7YcvjIxh2Dvb7vAhaDTw2iLNCdeolIcNqDNMDo2+03if8LOkEfR+Oz3ANrg8M/vorEx0LxpVQD9ncOO6TnuG1KI+UCU98VkRQ4VnjwNca1Zo32i7sA0GJKoU+wffudTTlI9CyixXMNFnFi7a0lZ6gMQaIWaMw5efwY8COYiwQ/02MYMJoGhkuchjrkqPYMliz8NLstc0YxMyL8nESJsuY5kIo0xVt8/XZiVhGy8stUW+Uw+okqckRrxWVVY7TlBniyPufqHPcyZcjzw== minhtri@minhtri",
            "region": "ap-southeast-2",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-07d29ecb576421054",
            "association_id": "eipassoc-0459346dc0a6e86b6",
            "connectivity_type": "public",
            "id": "nat-0b9017296977dd463",
            "network_interface_id": "eni-07612154c41f3ddbe",
            "private_ip": "10.0.81.66",
            "public_ip": "52.65.24.159",
            "region": "ap-southeast-2",
            "secondary_allocation_ids": [],
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-0c6ad6dd72a42da19",
            "tags": {
              "Name": "staging-nat"
            },
            "tags_all": {
              "Name": "staging-nat"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:route-table/rtb-00887a74eee1cd58d",
            "id": "rtb-00887a74eee1cd58d",
            "owner_id": "675613596870",
            "propagating_vgws": [],
            "region": "ap-southeast-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-0b9017296977dd463",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "staging-private"
            },
            "tags_all": {
              "Name": "staging-private"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "rtb-00887a74eee1cd58d",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:route-table/rtb-05a6c029df46e7c1e",
            "id": "rtb-05a6c029df46e7c1e",
            "owner_id": "675613596870",
            "propagating_vgws": [],
            "region": "ap-southeast-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0f62b4dd457396682",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "staging-public"
            },
            "tags_all": {
              "Name": "staging-public"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "rtb-05a6c029df46e7c1e",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-025688688f5a8ac2e",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-00887a74eee1cd58d",
            "subnet_id": "subnet-0ecc20411cc453960",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_route_table.private",
            "aws_subnet.private_zone1",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-043ea781989b5b942",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-00887a74eee1cd58d",
            "subnet_id": "subnet-0c5e5f8396a176e17",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_route_table.private",
            "aws_subnet.private_zone2",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-012a3884b2a3006f1",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-05a6c029df46e7c1e",
            "subnet_id": "subnet-0c6ad6dd72a42da19",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_route_table.public",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-025648fe0c51b66c8",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-05a6c029df46e7c1e",
            "subnet_id": "subnet-0673c73a0d2116bda",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_route_table.public",
            "aws_subnet.public_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "security-group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:security-group/sg-061805e50d0016b3e",
            "description": "Allow TLS inbound traffic",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-061805e50d0016b3e",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "HTTP from VPC",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "SSH",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "TLS from VPC",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "devsecops-sg",
            "name_prefix": "",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "devsecops-sg"
            },
            "tags_all": {
              "Name": "devsecops-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "sg-061805e50d0016b3e",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0ecc20411cc453960",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.0.0.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0ecc20411cc453960",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-private-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "staging-private-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0ecc20411cc453960",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0c5e5f8396a176e17",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.0.32.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0c5e5f8396a176e17",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-private-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "staging-private-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0c5e5f8396a176e17",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0c6ad6dd72a42da19",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.0.64.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0c6ad6dd72a42da19",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-public-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "staging-public-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0c6ad6dd72a42da19",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0673c73a0d2116bda",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.0.96.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0673c73a0d2116bda",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-public-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "staging-public-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0b088d820a2c45700"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0673c73a0d2116bda",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:vpc/vpc-0b088d820a2c45700",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-0fbe555d2523d8d89",
            "default_route_table_id": "rtb-0e3fa63c8d379e675",
            "default_security_group_id": "sg-0d9f7a5086d7ac33f",
            "dhcp_options_id": "dopt-0ccbcefb1dd41c4f6",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "id": "vpc-0b088d820a2c45700",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-0e3fa63c8d379e675",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-main"
            },
            "tags_all": {
              "Name": "staging-main"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "docker_compose",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "services:\n  # Client Frontend\n  client:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client:latest\n    ports:\n      - \"3011:80\"\n    environment:\n      - VITE_API_URL=http://localhost:8089\n    depends_on:\n      - api-gateway\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # API Gateway\n  api-gateway:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway:latest\n    ports:\n      - \"8089:8000\"\n    environment:\n      - PRODUCT_SERVICE_URL=http://product-service:8080\n      - ORDER_SERVICE_URL=http://order-service:8081\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n      - PAYMENT_SERVICE_URL=http://payment-service:8084\n    depends_on:\n      - product-service\n      - order-service\n      - inventory-service\n      - notification-service\n      - payment-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6381:6379\"\n    volumes:\n      - redis_data:/data\n    networks:\n      - microservices-network\n\n  # RabbitMQ\n  rabbitmq:\n    image: rabbitmq:3-management-alpine\n    ports:\n      - \"5672:5672\"\n      - \"15672:15672\"\n    environment:\n      - RABBITMQ_DEFAULT_USER=admin\n      - RABBITMQ_DEFAULT_PASS=admin123\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    networks:\n      - microservices-network\n\n  # Product Service\n  product-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - DB_HOST=product-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=products_db\n    depends_on:\n      - product-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Order Service\n  order-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service:latest\n    ports:\n      - \"8081:8081\"\n    environment:\n      - DB_HOST=order-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=orders_db\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - RABBITMQ_HOST=rabbitmq\n      - RABBITMQ_PORT=5672\n      - RABBITMQ_USER=admin\n      - RABBITMQ_PASS=admin123\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n    depends_on:\n      - order-db\n      - inventory-service\n      - notification-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Inventory Service\n  inventory-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service:latest\n    ports:\n      - \"8082:8082\"\n    environment:\n      - DB_HOST=inventory-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=inventory_db\n    depends_on:\n      - inventory-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Notification Service\n  notification-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service:latest\n    ports:\n      - \"8083:8083\"\n    environment:\n      - DB_HOST=notification-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=notifications_db\n    depends_on:\n      - notification-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Payment Service\n  payment-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service:latest\n    ports:\n      - \"8084:8084\"\n    environment:\n      - DB_HOST=payment-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=payments_db\n      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}\n    depends_on:\n      - payment-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Databases\n  product-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5441:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=products_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/product-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - product-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  order-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5442:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=orders_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/order-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - order-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  inventory-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5444:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=inventory_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/inventory-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - inventory-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  notification-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5445:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=notifications_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/notification-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - notification-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  payment-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5446:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=payments_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/payment-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - payment-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  # Prometheus Monitoring\n  prometheus:\n    image: prom/prometheus:latest\n    ports:\n      - \"9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    networks:\n      - microservices-network\n\nvolumes:\n  product-db-data:\n  order-db-data:\n  inventory-db-data:\n  notification-db-data:\n  payment-db-data:\n  redis_data:\n  rabbitmq_data:\n  prometheus_data:\n\nnetworks:\n  microservices-network:\n    driver: bridge\n",
            "content_base64": null,
            "content_base64sha256": "12lWsyIgtR2+SdWvxxHj1T196LxPqo/88Oq7K3hYf+A=",
            "content_base64sha512": "twLeGqF6c2kXDzqv7mXT3I00igG3UQuTnTRv3+KugLvbuIs9T1JAIp4B9KmB3FbeoYtJto+N6/sX3AFtng6q6w==",
            "content_md5": "3d5de542fc1dbedcb303ca47a01c73a1",
            "content_sha1": "aa101d978c2936144dbb4e681d213aeec902177f",
            "content_sha256": "d76956b32220b51dbe49d5afc711e3d53d7de8bc4faa8ffcf0eabb2b78587fe0",
            "content_sha512": "b702de1aa17a7369170f3aafee65d3dc8d348a01b7510b939d346fdfe2ae80bbdbb88b3d4f5240229e01f4a981dc56dea18b49b68f8debfb17dc016d9e0eaaeb",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./../docker-compose.ecr.yml",
            "id": "aa101d978c2936144dbb4e681d213aeec902177f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current",
            "null_resource.build_and_push_images"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_and_push_images",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "5422889771481178330",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "502227465420761483",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "7584440029575717775",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "3825454823032503990",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "6829487744286931631",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "5622669730512581053",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "3959201445612346565",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
