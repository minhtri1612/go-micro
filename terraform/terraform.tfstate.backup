{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 1000,
  "lineage": "d6bd5780-60b9-2934-8eba-907dcb227d78",
  "outputs": {
    "ecr_registry_url": {
      "value": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
      "type": "string"
    },
    "jenkins_access_info": {
      "value": {
        "initial_password_command": "ssh -i ../jenkins-key ubuntu@54.79.217.37 'sudo cat /var/lib/jenkins/secrets/initialAdminPassword'",
        "ssh_command": "ssh -i ../jenkins-key ubuntu@54.79.217.37",
        "url": "http://54.79.217.37:8080"
      },
      "type": [
        "object",
        {
          "initial_password_command": "string",
          "ssh_command": "string",
          "url": "string"
        }
      ]
    },
    "jenkins_instance_id": {
      "value": "i-000494fa374e25b6f",
      "type": "string"
    },
    "jenkins_public_dns": {
      "value": "ec2-54-79-217-37.ap-southeast-2.compute.amazonaws.com",
      "type": "string"
    },
    "jenkins_public_ip": {
      "value": "54.79.217.37",
      "type": "string"
    },
    "repository_urls": {
      "value": {
        "api-gateway": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
        "client": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
        "inventory-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
        "notification-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
        "order-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
        "payment-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
        "product-service": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service"
      },
      "type": [
        "object",
        {
          "api-gateway": "string",
          "client": "string",
          "inventory-service": "string",
          "notification-service": "string",
          "order-service": "string",
          "payment-service": "string",
          "product-service": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "ami",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_unsafe_filter": null,
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:ap-southeast-2::image/ami-0eeab253db7e765a9",
            "block_device_mappings": [
              {
                "device_name": "/dev/sda1",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-0b68b0b1a44bf86ce",
                  "throughput": "0",
                  "volume_initialization_rate": "0",
                  "volume_size": "8",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdb",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral0"
              },
              {
                "device_name": "/dev/sdc",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral1"
              }
            ],
            "boot_mode": "uefi-preferred",
            "creation_date": "2025-10-15T08:05:46.000Z",
            "deprecation_time": "2027-10-15T08:05:46.000Z",
            "description": "Canonical, Ubuntu, 22.04, amd64 jammy image",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0eeab253db7e765a9",
            "image_id": "ami-0eeab253db7e765a9",
            "image_location": "amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251015",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "imds_support": "",
            "include_deprecated": false,
            "kernel_id": "",
            "last_launched_time": "",
            "most_recent": true,
            "name": "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251015",
            "name_regex": null,
            "owner_id": "099720109477",
            "owners": [
              "099720109477"
            ],
            "platform": "",
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": "",
            "region": "ap-southeast-2",
            "root_device_name": "/dev/sda1",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0b68b0b1a44bf86ce",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "timeouts": null,
            "tpm_support": "",
            "uefi_data": null,
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "675613596870",
            "arn": "arn:aws:iam::675613596870:user/richard-tritran",
            "id": "675613596870",
            "user_id": "AIDAZ2TNVLTDLPGYY3EGW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lXSGxUWldwa1p6SmtiazFvTTJSclIyaDVabWt4YW5sSVpYRjZjRzlLZUd4VGFFMUJLMFJhYW5oa1JEWmlPWGhFY2xNeWVFbHdPRE5HYlhsd1IySXpUbk55YkhreU1sRlNha3hNVVVaRGVtRlBkMnd2TWpJMFYzcEtiVmM1VUVVdmFHUTNka0p2Tnl0SlJHaFZkMHBrV0hkWVpsRTFXV1JSSzFReFIyRjFiSFl2VjBWMGVUY3hjbXBNY2xWTk1FaFdhMHAxT1M5amFYYzBVMGxJUTFKV05tRjRWM2t6YlV0RVptZFhhbGRwTUN0cFRHOTNTakZxZFdwMlVWZFJiVlV5ZVd3MWVraFViMnQyUnpOVU0wUlliRzlJYkRaR2JXRjRVRUpFUjFkT1VWVjBaVzVVVDNOR04yUnZNRVI0ZDFGcWRrcE5NWFZwUkRCMFVXWlFaa3hpV2l0NFJuUjViRUpVZWpjd1JEVmlVMnRpYjBkd1dERkdSRTl3V2toWldrSlBjSEZxTUZZNFp6Tm5TbmRDWTFaSVZXVmlkMjR4ZHpCM1lrTkhNRGhFY0RkMlFqQlZXVzExWTNab1l6QXdSelIyVm5oR2F6WTVhek4xY2pOblFWRnRMMWRJUm1SUFVYaHRXVlJhWmtwSFJuUkRjSFU0WXpSdU1EUlJhMDVoVTFZNU5rY3ZRM0phTjBwNGFGTndiRmwxVEVrMk5FNTBVa3c1Y0RBeEsxZHJMMWhNTkhoWk9FcDVOMlVyZWtKaFZucFJXakpaSzFSS1YzbFJOVE5QVEhJdk0yVklaMEYxVG1odWJ6WkhMMFo1VVZZME9FOXViMDVvT1RCUVJERk5kMGgyVXpSUVV6Rm9lRlpJT0d4YVlYQjBaMjVxYUM5MFFYUnpVems1VFhRemNtRlhNR0pyZGtSRVJGSnVlak5SVG1Gb016aElTbGRDWW1wV09YQlJlVUpaSzB4MmEwMU5iVlpDVTBWSFVUbG9RMDkzTDJKbU1HOHZRVWt2Vmxsa1RWRTRTakJSVWpsMFZrVjZWRUZLUjI5dFRIUk5NMnMwT1doV1QyVm1jR2gzVGxCcWMwSmlXR3RJT1ZRclowSjFaMEY0WlhWTldWVlNWbUZQZDJKS2RXMUxZbGg2YVU5clZIWjNNV05aVFVoVk5Fc3diMlV4UmpNdmJXVnRPQ3RLTjNKMlpFTldNRVJIU2s1WmIyMTFlUzlTYlZKalQzTkhTVTR5YlU1a2IwVlBaRnBwWmxKUFprWnJRM0oxT0dSc2FISkpORUY1Y0ZwbWNIUXdhMmczZW1GSGFVdzFPVnBWZWxGSlVHNWFPVVJhV0ZWRGJEaENUV3BpTDFsQmVpOUtVemw1VWxSMGNuaFJhbEIxWkdVeWNscFdkbUZZTVVWeGJEQmxaRXN3VG1sdlJsWjJTbVJ2ZFZkNWFrMDNRMmh0ZEZVMFUzWmxMM0pMVjJOU2Jsa3hWMHh5VEhkdWF6bE5XaTgwVlN0clozVjZiVVZuVDFkcVJ6TjRZemhyUzFaSWFuQnNla0pEWW14VlpqWktjREZtTms5UVZYUk1kVlpRVUROR1NIZ3JZa1F2VjBsbmNWaG1SRFZrWWtGc1RXbzNTbTUyY2k4MFlXVjZaRzl1YmxoQ1NHdE9lbk5VYWt4b1pVbGtNelpKV1hKTlZVVndiVmcyWkdFMWJHWTNiMjR6UVdvdlRqRTFOWGhXVTJaRU0xaGhkM2szYmt0VWNuRnNUVFZqYjIxcGMwOTBiV3BKZEVKemNIUktjRlZEZWpoRWNWUmhUa3RDWmpobVZqQTFWMVIzVEU1aVlWWkpSVkJLY2xrdmJtMHdWaUlzSW1SaGRHRnJaWGtpT2lKQlVVVkNRVWhvVEhscWVqZFFTa1ZRYlZsaWNVZzJRVFptTDNkWFRucDVlalZDUzJFek4wSnVRbEJ6UVhsMVJqRkxVVUZCUVVnMGQyWkJXVXBMYjFwSmFIWmpUa0ZSWTBkdlJ6aDNZbEZKUWtGRVFtOUNaMnR4YUd0cFJ6bDNNRUpDZDBWM1NHZFpTbGxKV2tsQlYxVkVRa0ZGZFUxQ1JVVkVUVVZEYzBoYVpWQTFiSFYzZDFOdk9HZEpRa1ZKUVRjM1dHWnFaamRKVWtoek5sRXdhR1JIUXpacGR6aFRLMnRSYlhkck1qSmtSMGRhY2xoWU1Hc3JTRFExWjJFdmR6QTNlVGhwYVZGb1VsTjVLMnBvUTJGcFlVdEJZbkV6YjBGV1JYTmxjalpGUFNJc0luWmxjbk5wYjI0aU9pSXlJaXdpZEhsd1pTSTZJa1JCVkVGZlMwVlpJaXdpWlhod2FYSmhkR2x2YmlJNk1UYzJNRGM1T1RJMU5YMD0=",
            "expires_at": "2025-10-18T14:54:15Z",
            "id": "ap-southeast-2",
            "password": "eyJwYXlsb2FkIjoiWHlTZWpkZzJkbk1oM2RrR2h5ZmkxanlIZXF6cG9KeGxTaE1BK0RaanhkRDZiOXhEclMyeElwODNGbXlwR2IzTnNybHkyMlFSakxMUUZDemFPd2wvMjI0V3pKbVc5UEUvaGQ3dkJvNytJRGhVd0pkWHdYZlE1WWRRK1QxR2F1bHYvV0V0eTcxcmpMclVNMEhWa0p1OS9jaXc0U0lIQ1JWNmF4V3kzbUtEZmdXaldpMCtpTG93SjFqdWp2UVdRbVUyeWw1ekhUb2t2RzNUM0RYbG9IbDZGbWF4UEJER1dOUVV0ZW5UT3NGN2RvMER4d1FqdkpNMXVpRDB0UWZQZkxiWit4RnR5bEJUejcwRDViU2tib0dwWDFGRE9wWkhZWkJPcHFqMFY4ZzNnSndCY1ZIVWVid24xdzB3YkNHMDhEcDd2QjBVWW11Y3ZoYzAwRzR2VnhGazY5azN1cjNnQVFtL1dIRmRPUXhtWVRaZkpHRnRDcHU4YzRuMDRRa05hU1Y5NkcvQ3JaN0p4aFNwbFl1TEk2NE50Ukw5cDAxK1drL1hMNHhZOEp5N2UrekJhVnpRWjJZK1RKV3lRNTNPTHIvM2VIZ0F1TmhubzZHL0Z5UVY0OE9ub05oOTBQRDFNd0h2UzRQUzFoeFZIOGxaYXB0Z25qaC90QXRzUzk5TXQzcmFXMGJrdkRERFJuejNRTmFoMzhISldCYmpWOXBReUJZK0x2a01NbVZCU0VHUTloQ093L2JmMG8vQUkvVllkTVE4SjBRUjl0VkV6VEFKR29tTHRNM2s0OWhWT2VmcGh3TlBqc0JiWGtIOVQrZ0J1Z0F4ZXVNWVVSVmFPd2JKdW1LYlh6aU9rVHZ3MWNZTUhVNEswb2UxRjMvbWVtOCtKN3J2ZENWMERHSk5Zb211eS9SbVJjT3NHSU4ybU5kb0VPZFppZlJPZkZrQ3J1OGRsaHJJNEF5cFpmcHQwa2g3emFHaUw1OVpVelFJUG5aOURaWFVDbDhCTWpiL1lBei9KUzl5UlR0cnhRalB1ZGUyclpWdmFYMUVxbDBlZEswTmlvRlZ2SmRvdVd5ak03Q2htdFU0U3ZlL3JLV2NSblkxV0xyTHduazlNWi80VStrZ3V6bUVnT1dqRzN4YzhrS1ZIanBsekJDYmxVZjZKcDFmNk9QVXRMdVZQUDNGSHgrYkQvV0lncVhmRDVkYkFsTWo3Sm52ci80YWV6ZG9ublhCSGtOenNUakxoZUlkMzZJWXJNVUVwbVg2ZGE1bGY3b24zQWovTjE1NXhWU2ZEM1hhd3k3bktUcnFsTTVjb21pc090bWpJdEJzcHRKcFVDejhEcVRhTktCZjhmVjA1V1R3TE5iYVZJRVBKclkvbm0wViIsImRhdGFrZXkiOiJBUUVCQUhoTHlqejdQSkVQbVlicUg2QTZmL3dXTnp5ejVCS2EzN0JuQlBzQXl1RjFLUUFBQUg0d2ZBWUpLb1pJaHZjTkFRY0dvRzh3YlFJQkFEQm9CZ2txaGtpRzl3MEJCd0V3SGdZSllJWklBV1VEQkFFdU1CRUVETUVDc0haZVA1bHV3d1NvOGdJQkVJQTc3WGZqZjdJUkhzNlEwaGRHQzZpdzhTK2tRbXdrMjJkR0daclhYMGsrSDQ1Z2EvdzA3eThpaVFoUlN5K2poQ2FpYUtBYnEzb0FWRXNlcjZFPSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTc2MDc5OTI1NX0=",
            "proxy_endpoint": "https://675613596870.dkr.ecr.ap-southeast-2.amazonaws.com",
            "region": "ap-southeast-2",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "authorization_token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "API",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:ap-southeast-2:675613596870:cluster/staging-demo",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJWi9PTUF3RTdZWWd3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRFd01UZ3dNalUxTkRSYUZ3MHpOVEV3TVRZd016QXdORFJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURHUFFIaS9NMVdBTnRwcmdDaFFQNCtGWnJjZGMyRkxBeWlta3plV3NZa3ExMnlyLzFXekZQZUxaQlcKYUwzbVIwYitLZFlTbmp5Yjd1N2lCYk93akFjVlp6OUJwaFhrcER0KzMyUjJJNWFsS2FEcVQ5eWx0NHVFSXp1RwpKZ0dSYk9Kei9hallZNWxpWVJWczZLS3JFWW1BaTYrVjA5Z0N0RHVYdmYzYlFuT0RzdlI2Wkx5UTdQN25aYUhTClh3amkwNmk1akphdjhZSUdVTDVORG53VngwTlBtNzNCRkxJcUN3ZHBaSG1kSC9WNU0vSmg0UmNJOXNLUVQrTkkKRkM5TTdBTnV5V21HWG5PQTM2bm42ZFhSY3JaVGhtYTIrSHB1VkpEVll5MjNwVStYMVcvaGErZWI0K1hNajV5VQp4OGRDTmp6RktKdTUrVFN4M0h0d1pVdEx3a3JsQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJSRU9lcUVwcTZDcHBKSmFLaTlIRTJqVzJ0aTZUQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQk9GT0JielhRUApQZHptTGJOT28wYlVTS1JDUjJ4RHMvUkpaN251bDg5TFdDRE9TeFM5Y2s0VmJHZjViYWtYR3N4bEd6R045Y1ZTCnkrNmxWbHdGdkwzQnhLcnRsTmJxa1VHRW9sdTM0NjlmbkJrYmVsNXc1aTJrTVFvZ1VuQ1Q4VlFIWGw1VnpmY3gKckNneUhXVTZLa3FsWis1NDhUOVpKTE1sVS8vZE1JQ0o1Zi9nS3Z5V0J5V2FmcHRVSjRZcWhjVG9ramJlUSttdApSVllvblhtL3M4SXREaUZJZEtzWlhkclgyaHRJRzdQTGQvbURPQTdNanl0K3FmRDlNRmRoNU03QXo3WHVQUitmCk5BNlpuaHdQWFg4elRoWDNvd0Z2S0hwRTZwb01oejJQZnZCUFBSUjFkM2lZeWJFSTIrTk5rZTdhbzVGQmkrSWMKbWxBMG9iWXZrZmkzCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [
              {
                "enabled": false,
                "node_pools": [],
                "node_role_arn": ""
              }
            ],
            "created_at": "2025-10-18T02:55:06Z",
            "deletion_protection": false,
            "enabled_cluster_log_types": [],
            "endpoint": "https://11211D0ECDE1DBDC16B2AFB271FBCF7E.yl4.ap-southeast-2.eks.amazonaws.com",
            "id": "staging-demo",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.ap-southeast-2.amazonaws.com/id/11211D0ECDE1DBDC16B2AFB271FBCF7E"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "staging-demo",
            "outpost_config": [],
            "platform_version": "eks.52",
            "region": "ap-southeast-2",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::675613596870:role/staging-demo-eks-cluster",
            "status": "ACTIVE",
            "storage_config": [
              {
                "block_storage": [
                  {
                    "enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.29",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0afcc7966da06d59b",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-03613225628cd9027",
                  "subnet-089efbac982e6d984"
                ],
                "vpc_id": "vpc-05ea489e52b45db4d"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo",
            "name": "staging-demo",
            "region": "ap-southeast-2",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbS8_QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNSZYLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFaMlROVkxUREQzUFBOTVYzJTJGMjAyNTEwMTglMkZhcC1zb3V0aGVhc3QtMiUyRnN0cyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMDE4VDAzMDI0MlomWC1BbXotRXhwaXJlcz0wJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCUzQngtazhzLWF3cy1pZCZYLUFtei1TaWduYXR1cmU9NDRiYzRmZDIxYTU5ODI5ZGMxNzg4Y2NlMDlmNGQ5ZTAzOGRiYmE2MTc2MDJiNGFhMzUyZGEzZDM4MDIzZmVlOQ"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "aws_lbc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "819195744",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:TagSession\",\n        \"sts:AssumeRole\"\n      ],\n      \"Principal\": {\n        \"Service\": \"pods.eks.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole",
                  "sts:TagSession"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "pods.eks.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "aws_lbc_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "560591480",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:CreateServiceLinkedRole\",\n        \"elasticloadbalancing:DescribeTargetHealth\",\n        \"elasticloadbalancing:DescribeTargetGroups\",\n        \"elasticloadbalancing:DescribeTargetGroupAttributes\",\n        \"elasticloadbalancing:DescribeTags\",\n        \"elasticloadbalancing:DescribeSSLPolicies\",\n        \"elasticloadbalancing:DescribeRules\",\n        \"elasticloadbalancing:DescribeLoadBalancers\",\n        \"elasticloadbalancing:DescribeLoadBalancerAttributes\",\n        \"elasticloadbalancing:DescribeListeners\",\n        \"elasticloadbalancing:DescribeListenerCertificates\",\n        \"ec2:GetCoipPoolUsage\",\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeTags\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeNetworkInterfaces\",\n        \"ec2:DescribeInternetGateways\",\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeCoipPools\",\n        \"ec2:DescribeAvailabilityZones\",\n        \"ec2:DescribeAddresses\",\n        \"ec2:DescribeAccountAttributes\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"wafv2:GetWebACLForResource\",\n        \"wafv2:GetWebACL\",\n        \"wafv2:DisassociateWebACL\",\n        \"wafv2:AssociateWebACL\",\n        \"waf-regional:GetWebACLForResource\",\n        \"waf-regional:GetWebACL\",\n        \"waf-regional:DisassociateWebACL\",\n        \"waf-regional:AssociateWebACL\",\n        \"shield:GetSubscriptionState\",\n        \"shield:DescribeSubscription\",\n        \"shield:DescribeProtection\",\n        \"shield:DeleteProtection\",\n        \"shield:CreateProtection\",\n        \"iam:ListServerCertificates\",\n        \"iam:GetServerCertificate\",\n        \"cognito-idp:DescribeUserPoolClient\",\n        \"acm:ListCertificates\",\n        \"acm:DescribeCertificate\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:RevokeSecurityGroupIngress\",\n        \"ec2:AuthorizeSecurityGroupIngress\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateSecurityGroup\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateTags\",\n      \"Resource\": \"arn:aws:ec2:*:*:security-group/*\",\n      \"Condition\": {\n        \"Null\": {\n          \"aws:RequestedRegion\": \"false\"\n        },\n        \"StringEquals\": {\n          \"ec2:CreateAction\": \"CreateSecurityGroup\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:CreateTargetGroup\",\n        \"elasticloadbalancing:CreateLoadBalancer\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"Null\": {\n          \"aws:RequestedRegion\": \"false\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:DeleteRule\",\n        \"elasticloadbalancing:DeleteListener\",\n        \"elasticloadbalancing:CreateRule\",\n        \"elasticloadbalancing:CreateListener\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:RemoveTags\",\n        \"elasticloadbalancing:AddTags\"\n      ],\n      \"Resource\": [\n        \"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\n        \"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\n        \"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"\n      ],\n      \"Condition\": {\n        \"Null\": {\n          \"aws:RequestedRegion\": \"false\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:SetSubnets\",\n        \"elasticloadbalancing:SetSecurityGroups\",\n        \"elasticloadbalancing:SetIpAddressType\",\n        \"elasticloadbalancing:ModifyTargetGroupAttributes\",\n        \"elasticloadbalancing:ModifyTargetGroup\",\n        \"elasticloadbalancing:ModifyLoadBalancerAttributes\",\n        \"elasticloadbalancing:DeleteTargetGroup\",\n        \"elasticloadbalancing:DeleteLoadBalancer\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"Null\": {\n          \"aws:ResourceTag/elbv2.k8s.aws/cluster\": \"false\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:RegisterTargets\",\n        \"elasticloadbalancing:DeregisterTargets\"\n      ],\n      \"Resource\": \"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:SetWebAcl\",\n        \"elasticloadbalancing:RemoveListenerCertificates\",\n        \"elasticloadbalancing:ModifyRule\",\n        \"elasticloadbalancing:ModifyListener\",\n        \"elasticloadbalancing:AddListenerCertificates\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"iam:CreateServiceLinkedRole\",\"elasticloadbalancing:DescribeTargetHealth\",\"elasticloadbalancing:DescribeTargetGroups\",\"elasticloadbalancing:DescribeTargetGroupAttributes\",\"elasticloadbalancing:DescribeTags\",\"elasticloadbalancing:DescribeSSLPolicies\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeListenerCertificates\",\"ec2:GetCoipPoolUsage\",\"ec2:DescribeVpcs\",\"ec2:DescribeTags\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeInternetGateways\",\"ec2:DescribeInstances\",\"ec2:DescribeCoipPools\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeAddresses\",\"ec2:DescribeAccountAttributes\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"wafv2:GetWebACLForResource\",\"wafv2:GetWebACL\",\"wafv2:DisassociateWebACL\",\"wafv2:AssociateWebACL\",\"waf-regional:GetWebACLForResource\",\"waf-regional:GetWebACL\",\"waf-regional:DisassociateWebACL\",\"waf-regional:AssociateWebACL\",\"shield:GetSubscriptionState\",\"shield:DescribeSubscription\",\"shield:DescribeProtection\",\"shield:DeleteProtection\",\"shield:CreateProtection\",\"iam:ListServerCertificates\",\"iam:GetServerCertificate\",\"cognito-idp:DescribeUserPoolClient\",\"acm:ListCertificates\",\"acm:DescribeCertificate\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupIngress\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateSecurityGroup\",\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateTags\",\"Resource\":\"arn:aws:ec2:*:*:security-group/*\",\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"},\"StringEquals\":{\"ec2:CreateAction\":\"CreateSecurityGroup\"}}},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:CreateLoadBalancer\"],\"Resource\":\"*\",\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:DeleteRule\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateListener\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:RemoveTags\",\"elasticloadbalancing:AddTags\"],\"Resource\":[\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"],\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:SetSubnets\",\"elasticloadbalancing:SetSecurityGroups\",\"elasticloadbalancing:SetIpAddressType\",\"elasticloadbalancing:ModifyTargetGroupAttributes\",\"elasticloadbalancing:ModifyTargetGroup\",\"elasticloadbalancing:ModifyLoadBalancerAttributes\",\"elasticloadbalancing:DeleteTargetGroup\",\"elasticloadbalancing:DeleteLoadBalancer\"],\"Resource\":\"*\",\"Condition\":{\"Null\":{\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:RegisterTargets\",\"elasticloadbalancing:DeregisterTargets\"],\"Resource\":\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\"},{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:SetWebAcl\",\"elasticloadbalancing:RemoveListenerCertificates\",\"elasticloadbalancing:ModifyRule\",\"elasticloadbalancing:ModifyListener\",\"elasticloadbalancing:AddListenerCertificates\"],\"Resource\":\"*\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "ec2:DescribeAccountAttributes",
                  "ec2:DescribeAddresses",
                  "ec2:DescribeAvailabilityZones",
                  "ec2:DescribeCoipPools",
                  "ec2:DescribeInstances",
                  "ec2:DescribeInternetGateways",
                  "ec2:DescribeNetworkInterfaces",
                  "ec2:DescribeSecurityGroups",
                  "ec2:DescribeSubnets",
                  "ec2:DescribeTags",
                  "ec2:DescribeVpcs",
                  "ec2:GetCoipPoolUsage",
                  "elasticloadbalancing:DescribeListenerCertificates",
                  "elasticloadbalancing:DescribeListeners",
                  "elasticloadbalancing:DescribeLoadBalancerAttributes",
                  "elasticloadbalancing:DescribeLoadBalancers",
                  "elasticloadbalancing:DescribeRules",
                  "elasticloadbalancing:DescribeSSLPolicies",
                  "elasticloadbalancing:DescribeTags",
                  "elasticloadbalancing:DescribeTargetGroupAttributes",
                  "elasticloadbalancing:DescribeTargetGroups",
                  "elasticloadbalancing:DescribeTargetHealth",
                  "iam:CreateServiceLinkedRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "acm:DescribeCertificate",
                  "acm:ListCertificates",
                  "cognito-idp:DescribeUserPoolClient",
                  "iam:GetServerCertificate",
                  "iam:ListServerCertificates",
                  "shield:CreateProtection",
                  "shield:DeleteProtection",
                  "shield:DescribeProtection",
                  "shield:DescribeSubscription",
                  "shield:GetSubscriptionState",
                  "waf-regional:AssociateWebACL",
                  "waf-regional:DisassociateWebACL",
                  "waf-regional:GetWebACL",
                  "waf-regional:GetWebACLForResource",
                  "wafv2:AssociateWebACL",
                  "wafv2:DisassociateWebACL",
                  "wafv2:GetWebACL",
                  "wafv2:GetWebACLForResource"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:AuthorizeSecurityGroupIngress",
                  "ec2:RevokeSecurityGroupIngress"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateSecurityGroup"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateTags"
                ],
                "condition": [
                  {
                    "test": "Null",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:RequestedRegion"
                  },
                  {
                    "test": "StringEquals",
                    "values": [
                      "CreateSecurityGroup"
                    ],
                    "variable": "ec2:CreateAction"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:ec2:*:*:security-group/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:CreateLoadBalancer",
                  "elasticloadbalancing:CreateTargetGroup"
                ],
                "condition": [
                  {
                    "test": "Null",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:RequestedRegion"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:CreateListener",
                  "elasticloadbalancing:CreateRule",
                  "elasticloadbalancing:DeleteListener",
                  "elasticloadbalancing:DeleteRule"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:AddTags",
                  "elasticloadbalancing:RemoveTags"
                ],
                "condition": [
                  {
                    "test": "Null",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:RequestedRegion"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*",
                  "arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*",
                  "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:DeleteLoadBalancer",
                  "elasticloadbalancing:DeleteTargetGroup",
                  "elasticloadbalancing:ModifyLoadBalancerAttributes",
                  "elasticloadbalancing:ModifyTargetGroup",
                  "elasticloadbalancing:ModifyTargetGroupAttributes",
                  "elasticloadbalancing:SetIpAddressType",
                  "elasticloadbalancing:SetSecurityGroups",
                  "elasticloadbalancing:SetSubnets"
                ],
                "condition": [
                  {
                    "test": "Null",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:DeregisterTargets",
                  "elasticloadbalancing:RegisterTargets"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "elasticloadbalancing:AddListenerCertificates",
                  "elasticloadbalancing:ModifyListener",
                  "elasticloadbalancing:ModifyRule",
                  "elasticloadbalancing:RemoveListenerCertificates",
                  "elasticloadbalancing:SetWebAcl"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ebs_csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "819195744",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:TagSession\",\n        \"sts:AssumeRole\"\n      ],\n      \"Principal\": {\n        \"Service\": \"pods.eks.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole",
                  "sts:TagSession"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "pods.eks.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_lifecycle_policy",
      "name": "repository_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "api-gateway",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "api-gateway"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "api-gateway"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "client",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "client"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "client"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "inventory-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "inventory-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "inventory-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "notification-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "notification-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "notification-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "order-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "order-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "order-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "payment-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "payment-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "payment-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "product-service",
            "policy": "{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 10 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":10,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\"],\"tagStatus\":\"tagged\"}}]}",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository": "product-service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "region": "ap-southeast-2",
            "repository": "product-service"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.repositories"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repositories",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/api-gateway",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-gateway",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "api-gateway",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "api-gateway",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/client",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "client",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "client",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "client",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/inventory-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "inventory-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "inventory-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "inventory-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/notification-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "notification-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "notification-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "notification-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/order-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "order-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "order-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "order-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/payment-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "payment-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "payment-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "payment-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-2:675613596870:repository/product-service",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "product-service",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "image_tag_mutability_exclusion_filter": [],
            "name": "product-service",
            "region": "ap-southeast-2",
            "registry_id": "675613596870",
            "repository_url": "675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service",
            "tags": {
              "created_by": "terraform"
            },
            "tags_all": {
              "created_by": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "product-service",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0ff161a25e92105ad",
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:elastic-ip/eipalloc-0ff161a25e92105ad",
            "associate_with_private_ip": null,
            "association_id": "",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0ff161a25e92105ad",
            "instance": "",
            "ipam_pool_id": null,
            "network_border_group": "ap-southeast-2",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "ptr_record": "",
            "public_dns": "ec2-52-64-245-247.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "52.64.245.247",
            "public_ipv4_pool": "amazon",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-nat"
            },
            "tags_all": {
              "Name": "staging-nat"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "ebs_csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "aws-ebs-csi-driver",
            "addon_version": "v1.30.0-eksbuild.1",
            "arn": "arn:aws:eks:ap-southeast-2:675613596870:addon/staging-demo/aws-ebs-csi-driver/5cccfaa2-823b-44bc-c62f-14ad84f06609",
            "cluster_name": "staging-demo",
            "configuration_values": "",
            "created_at": "2025-10-18T03:02:45Z",
            "id": "staging-demo:aws-ebs-csi-driver",
            "modified_at": "2025-10-18T03:18:09Z",
            "pod_identity_association": [],
            "preserve": null,
            "region": "ap-southeast-2",
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "arn:aws:iam::675613596870:role/staging-demo-ebs-csi-driver",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.ebs_csi_driver",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.ebs_csi_driver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "pod_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "eks-pod-identity-agent",
            "addon_version": "v1.2.0-eksbuild.1",
            "arn": "arn:aws:eks:ap-southeast-2:675613596870:addon/staging-demo/eks-pod-identity-agent/60ccfaa2-7dad-3f4a-75a8-b2d0f0b5d375",
            "cluster_name": "staging-demo",
            "configuration_values": "",
            "created_at": "2025-10-18T03:02:42Z",
            "id": "staging-demo:eks-pod-identity-agent",
            "modified_at": "2025-10-18T03:03:28Z",
            "pod_identity_association": [],
            "preserve": null,
            "region": "ap-southeast-2",
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "API",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:ap-southeast-2:675613596870:cluster/staging-demo",
            "bootstrap_self_managed_addons": true,
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJWi9PTUF3RTdZWWd3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRFd01UZ3dNalUxTkRSYUZ3MHpOVEV3TVRZd016QXdORFJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURHUFFIaS9NMVdBTnRwcmdDaFFQNCtGWnJjZGMyRkxBeWlta3plV3NZa3ExMnlyLzFXekZQZUxaQlcKYUwzbVIwYitLZFlTbmp5Yjd1N2lCYk93akFjVlp6OUJwaFhrcER0KzMyUjJJNWFsS2FEcVQ5eWx0NHVFSXp1RwpKZ0dSYk9Kei9hallZNWxpWVJWczZLS3JFWW1BaTYrVjA5Z0N0RHVYdmYzYlFuT0RzdlI2Wkx5UTdQN25aYUhTClh3amkwNmk1akphdjhZSUdVTDVORG53VngwTlBtNzNCRkxJcUN3ZHBaSG1kSC9WNU0vSmg0UmNJOXNLUVQrTkkKRkM5TTdBTnV5V21HWG5PQTM2bm42ZFhSY3JaVGhtYTIrSHB1VkpEVll5MjNwVStYMVcvaGErZWI0K1hNajV5VQp4OGRDTmp6RktKdTUrVFN4M0h0d1pVdEx3a3JsQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJSRU9lcUVwcTZDcHBKSmFLaTlIRTJqVzJ0aTZUQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQk9GT0JielhRUApQZHptTGJOT28wYlVTS1JDUjJ4RHMvUkpaN251bDg5TFdDRE9TeFM5Y2s0VmJHZjViYWtYR3N4bEd6R045Y1ZTCnkrNmxWbHdGdkwzQnhLcnRsTmJxa1VHRW9sdTM0NjlmbkJrYmVsNXc1aTJrTVFvZ1VuQ1Q4VlFIWGw1VnpmY3gKckNneUhXVTZLa3FsWis1NDhUOVpKTE1sVS8vZE1JQ0o1Zi9nS3Z5V0J5V2FmcHRVSjRZcWhjVG9ramJlUSttdApSVllvblhtL3M4SXREaUZJZEtzWlhkclgyaHRJRzdQTGQvbURPQTdNanl0K3FmRDlNRmRoNU03QXo3WHVQUitmCk5BNlpuaHdQWFg4elRoWDNvd0Z2S0hwRTZwb01oejJQZnZCUFBSUjFkM2lZeWJFSTIrTk5rZTdhbzVGQmkrSWMKbWxBMG9iWXZrZmkzCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [
              {
                "enabled": false,
                "node_pools": [],
                "node_role_arn": ""
              }
            ],
            "created_at": "2025-10-18T02:55:06Z",
            "deletion_protection": false,
            "enabled_cluster_log_types": null,
            "encryption_config": [],
            "endpoint": "https://11211D0ECDE1DBDC16B2AFB271FBCF7E.yl4.ap-southeast-2.eks.amazonaws.com",
            "force_update_version": null,
            "id": "staging-demo",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.ap-southeast-2.amazonaws.com/id/11211D0ECDE1DBDC16B2AFB271FBCF7E"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "staging-demo",
            "outpost_config": [],
            "platform_version": "eks.52",
            "region": "ap-southeast-2",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::675613596870:role/staging-demo-eks-cluster",
            "status": "ACTIVE",
            "storage_config": [
              {
                "block_storage": [
                  {
                    "enabled": false
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.29",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0afcc7966da06d59b",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": null,
                "subnet_ids": [
                  "subnet-03613225628cd9027",
                  "subnet-089efbac982e6d984"
                ],
                "vpc_id": "vpc-05ea489e52b45db4d"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "general",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "AL2_x86_64",
            "arn": "arn:aws:eks:ap-southeast-2:675613596870:nodegroup/staging-demo/general/8eccfaa2-7da3-5abb-4493-b05db64a1b9d",
            "capacity_type": "ON_DEMAND",
            "cluster_name": "staging-demo",
            "disk_size": 20,
            "force_update_version": null,
            "id": "staging-demo:general",
            "instance_types": [
              "t2.medium"
            ],
            "labels": {
              "role": "general"
            },
            "launch_template": [],
            "node_group_name": "general",
            "node_group_name_prefix": "",
            "node_repair_config": [],
            "node_role_arn": "arn:aws:iam::675613596870:role/staging-demo-eks-nodes",
            "region": "ap-southeast-2",
            "release_version": "1.29.15-20251007",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-general-8eccfaa2-7da3-5abb-4493-b05db64a1b9d"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 1,
                "max_size": 10,
                "min_size": 0
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-03613225628cd9027",
              "subnet-089efbac982e6d984"
            ],
            "tags": null,
            "tags_all": {},
            "taint": [],
            "timeouts": null,
            "update_config": [
              {
                "max_unavailable": 1,
                "max_unavailable_percentage": 0
              }
            ],
            "version": "1.29"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role.nodes",
            "aws_iam_role_policy_attachment.amazon_ec2_container_registry_read_only",
            "aws_iam_role_policy_attachment.amazon_eks_cni_policy",
            "aws_iam_role_policy_attachment.amazon_eks_worker_node_policy",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_pod_identity_association",
      "name": "aws_lbc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "association_arn": "arn:aws:eks:ap-southeast-2:675613596870:podidentityassociation/staging-demo/a-gwre7em39gu2zdy54",
            "association_id": "a-gwre7em39gu2zdy54",
            "cluster_name": "staging-demo",
            "disable_session_tags": false,
            "external_id": null,
            "id": "a-gwre7em39gu2zdy54",
            "namespace": "kube-system",
            "region": "ap-southeast-2",
            "role_arn": "arn:aws:iam::675613596870:role/staging-demo-aws-lbc",
            "service_account": "aws-load-balancer-controller",
            "tags": null,
            "tags_all": {},
            "target_role_arn": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.aws_lbc",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.aws_lbc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_pod_identity_association",
      "name": "cluster_autoscaler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "association_arn": "arn:aws:eks:ap-southeast-2:675613596870:podidentityassociation/staging-demo/a-8pfbtqdoanlbfhtwd",
            "association_id": "a-8pfbtqdoanlbfhtwd",
            "cluster_name": "staging-demo",
            "disable_session_tags": false,
            "external_id": null,
            "id": "a-8pfbtqdoanlbfhtwd",
            "namespace": "kube-system",
            "region": "ap-southeast-2",
            "role_arn": "arn:aws:iam::675613596870:role/staging-demo-cluster-autoscaler",
            "service_account": "cluster-autoscaler",
            "tags": null,
            "tags_all": {},
            "target_role_arn": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.cluster_autoscaler",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_pod_identity_association",
      "name": "ebs_csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "association_arn": "arn:aws:eks:ap-southeast-2:675613596870:podidentityassociation/staging-demo/a-1xqag8xru8ljrzwpl",
            "association_id": "a-1xqag8xru8ljrzwpl",
            "cluster_name": "staging-demo",
            "disable_session_tags": false,
            "external_id": null,
            "id": "a-1xqag8xru8ljrzwpl",
            "namespace": "kube-system",
            "region": "ap-southeast-2",
            "role_arn": "arn:aws:iam::675613596870:role/staging-demo-ebs-csi-driver",
            "service_account": "ebs-csi-controller-sa",
            "tags": null,
            "tags_all": {},
            "target_role_arn": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.ebs_csi_driver",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.ebs_csi_driver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "jenkins_instance_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:instance-profile/jenkins-instance-profile",
            "create_date": "2025-10-18T02:54:49Z",
            "id": "jenkins-instance-profile",
            "name": "jenkins-instance-profile",
            "name_prefix": "",
            "path": "/",
            "role": "jenkins-ec2-role",
            "tags": null,
            "tags_all": {},
            "unique_id": "AIPAZ2TNVLTDMMXRXRY2V"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "aws_lbc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController",
            "name": "staging-demo-AWSLoadBalancerController",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"iam:CreateServiceLinkedRole\",\"elasticloadbalancing:DescribeTargetHealth\",\"elasticloadbalancing:DescribeTargetGroups\",\"elasticloadbalancing:DescribeTargetGroupAttributes\",\"elasticloadbalancing:DescribeTags\",\"elasticloadbalancing:DescribeSSLPolicies\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeListenerCertificates\",\"ec2:GetCoipPoolUsage\",\"ec2:DescribeVpcs\",\"ec2:DescribeTags\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeInternetGateways\",\"ec2:DescribeInstances\",\"ec2:DescribeCoipPools\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeAddresses\",\"ec2:DescribeAccountAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"wafv2:GetWebACLForResource\",\"wafv2:GetWebACL\",\"wafv2:DisassociateWebACL\",\"wafv2:AssociateWebACL\",\"waf-regional:GetWebACLForResource\",\"waf-regional:GetWebACL\",\"waf-regional:DisassociateWebACL\",\"waf-regional:AssociateWebACL\",\"shield:GetSubscriptionState\",\"shield:DescribeSubscription\",\"shield:DescribeProtection\",\"shield:DeleteProtection\",\"shield:CreateProtection\",\"iam:ListServerCertificates\",\"iam:GetServerCertificate\",\"cognito-idp:DescribeUserPoolClient\",\"acm:ListCertificates\",\"acm:DescribeCertificate\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupIngress\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateSecurityGroup\",\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"},\"StringEquals\":{\"ec2:CreateAction\":\"CreateSecurityGroup\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:security-group/*\"},{\"Action\":[\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:CreateLoadBalancer\"],\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:DeleteRule\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateListener\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:RemoveTags\",\"elasticloadbalancing:AddTags\"],\"Condition\":{\"Null\":{\"aws:RequestedRegion\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"]},{\"Action\":[\"elasticloadbalancing:SetSubnets\",\"elasticloadbalancing:SetSecurityGroups\",\"elasticloadbalancing:SetIpAddressType\",\"elasticloadbalancing:ModifyTargetGroupAttributes\",\"elasticloadbalancing:ModifyTargetGroup\",\"elasticloadbalancing:ModifyLoadBalancerAttributes\",\"elasticloadbalancing:DeleteTargetGroup\",\"elasticloadbalancing:DeleteLoadBalancer\"],\"Condition\":{\"Null\":{\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:RegisterTargets\",\"elasticloadbalancing:DeregisterTargets\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\"},{\"Action\":[\"elasticloadbalancing:SetWebAcl\",\"elasticloadbalancing:RemoveListenerCertificates\",\"elasticloadbalancing:ModifyRule\",\"elasticloadbalancing:ModifyListener\",\"elasticloadbalancing:AddListenerCertificates\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAZ2TNVLTDENPYE6MWJ",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.aws_lbc_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cluster_autoscaler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler",
            "name": "staging-demo-cluster-autoscaler",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"autoscaling:DescribeAutoScalingGroups\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeScalingActivities\",\"autoscaling:DescribeTags\",\"ec2:DescribeImages\",\"ec2:DescribeInstanceTypes\",\"ec2:DescribeLaunchTemplateVersions\",\"ec2:GetInstanceTypesFromInstanceRequirements\",\"eks:DescribeNodegroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"autoscaling:SetDesiredCapacity\",\"autoscaling:TerminateInstanceInAutoScalingGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAZ2TNVLTDCOUOANTNA",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "ebs_csi_driver_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption",
            "name": "staging-demo-ebs-csi-driver-encryption",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"kms:Decrypt\",\"kms:GenerateDataKeyWithoutPlaintext\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAZ2TNVLTDLGP6GOAM2",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "aws_lbc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/staging-demo-aws-lbc",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T03:02:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "staging-demo-aws-lbc",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "staging-demo-aws-lbc",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZ2TNVLTDPVVS23MBB"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "staging-demo-aws-lbc"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.aws_lbc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cluster_autoscaler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/staging-demo-cluster-autoscaler",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:AssumeRole\",\"sts:TagSession\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T03:02:44Z",
            "description": "",
            "force_detach_policies": false,
            "id": "staging-demo-cluster-autoscaler",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "staging-demo-cluster-autoscaler",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZ2TNVLTDJLBIHZUDM"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "staging-demo-cluster-autoscaler"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ebs_csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/staging-demo-ebs-csi-driver",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"pods.eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T03:02:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "staging-demo-ebs-csi-driver",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "staging-demo-ebs-csi-driver",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZ2TNVLTDIKLUQL3IE"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "staging-demo-ebs-csi-driver"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.ebs_csi_driver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/staging-demo-eks-cluster",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T02:54:44Z",
            "description": "",
            "force_detach_policies": false,
            "id": "staging-demo-eks-cluster",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "staging-demo-eks-cluster",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZ2TNVLTDPCFPCN5XR"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "staging-demo-eks-cluster"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "jenkins_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/jenkins-ec2-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T02:54:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "jenkins-ec2-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "jenkins-ec2-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Environment": "staging",
              "ManagedBy": "Terraform",
              "Name": "jenkins-ec2-role"
            },
            "tags_all": {
              "Environment": "staging",
              "ManagedBy": "Terraform",
              "Name": "jenkins-ec2-role"
            },
            "unique_id": "AROAZ2TNVLTDC3UTIG2NP"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "jenkins-ec2-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::675613596870:role/staging-demo-eks-nodes",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-18T02:54:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "staging-demo-eks-nodes",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "staging-demo-eks-nodes",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAZ2TNVLTDK4DPRM62N"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "staging-demo-eks-nodes"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "jenkins_eks_additional",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jenkins-ec2-role:jenkins-eks-additional-permissions",
            "name": "jenkins-eks-additional-permissions",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:UpdateClusterConfig\",\"eks:UpdateClusterVersion\",\"eks:ListNodegroups\",\"eks:DescribeNodegroup\",\"eks:CreateNodegroup\",\"eks:UpdateNodegroupConfig\",\"eks:UpdateNodegroupVersion\",\"eks:DeleteNodegroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"iam:PassRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "jenkins-ec2-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "name": "jenkins-eks-additional-permissions",
            "role": "jenkins-ec2-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "amazon_ec2_container_registry_read_only",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-eks-nodes/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
            "role": "staging-demo-eks-nodes"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
            "role": "staging-demo-eks-nodes"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "amazon_eks_cni_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-eks-nodes/arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
            "role": "staging-demo-eks-nodes"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
            "role": "staging-demo-eks-nodes"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "amazon_eks_worker_node_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-eks-nodes/arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
            "role": "staging-demo-eks-nodes"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
            "role": "staging-demo-eks-nodes"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_lbc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-aws-lbc/arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController",
            "role": "staging-demo-aws-lbc"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-AWSLoadBalancerController",
            "role": "staging-demo-aws-lbc"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_policy.aws_lbc",
            "aws_iam_role.aws_lbc",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.aws_lbc",
            "data.aws_iam_policy_document.aws_lbc_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_lbc_additional",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-aws-lbc/arn:aws:iam::aws:policy/ElasticLoadBalancingFullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/ElasticLoadBalancingFullAccess",
            "role": "staging-demo-aws-lbc"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/ElasticLoadBalancingFullAccess",
            "role": "staging-demo-aws-lbc"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.aws_lbc",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.aws_lbc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cluster_autoscaler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-cluster-autoscaler/arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler",
            "role": "staging-demo-cluster-autoscaler"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-cluster-autoscaler",
            "role": "staging-demo-cluster-autoscaler"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_policy.cluster_autoscaler",
            "aws_iam_role.cluster_autoscaler",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ebs_csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-ebs-csi-driver/arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy",
            "role": "staging-demo-ebs-csi-driver"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy",
            "role": "staging-demo-ebs-csi-driver"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_role.ebs_csi_driver",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.ebs_csi_driver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ebs_csi_driver_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-ebs-csi-driver/arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption",
            "role": "staging-demo-ebs-csi-driver"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::675613596870:policy/staging-demo-ebs-csi-driver-encryption",
            "role": "staging-demo-ebs-csi-driver"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_iam_policy.ebs_csi_driver_encryption",
            "aws_iam_role.ebs_csi_driver",
            "aws_iam_role.eks",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "data.aws_iam_policy_document.ebs_csi_driver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "staging-demo-eks-cluster/arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "staging-demo-eks-cluster"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "staging-demo-eks-cluster"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.eks"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "jenkins_cloudformation_full_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jenkins-ec2-role/arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
            "role": "jenkins-ec2-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
            "role": "jenkins-ec2-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "jenkins_ecr_full_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jenkins-ec2-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryFullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryFullAccess",
            "role": "jenkins-ec2-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryFullAccess",
            "role": "jenkins-ec2-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "jenkins_eks_full_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jenkins-ec2-role/arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "jenkins-ec2-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "jenkins-ec2-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "jenkins_s3_full_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jenkins-ec2-role/arn:aws:iam::aws:policy/AmazonS3FullAccess",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
            "role": "jenkins-ec2-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
            "role": "jenkins-ec2-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.jenkins_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "jenkins_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0eeab253db7e765a9",
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:instance/i-000494fa374e25b6f",
            "associate_public_ip_address": true,
            "availability_zone": "ap-southeast-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 1,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jenkins-instance-profile",
            "id": "i-000494fa374e25b6f",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "t3.medium",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "jenkins-key",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0de3f92789b3c95e1"
              }
            ],
            "primary_network_interface_id": "eni-0de3f92789b3c95e1",
            "private_dns": "ip-10-0-94-148.ap-southeast-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.94.148",
            "public_dns": "ec2-54-79-217-37.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "54.79.217.37",
            "region": "ap-southeast-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:ap-southeast-2:675613596870:key/a3cbbffd-743f-4181-b9f5-cd358a15bce4",
                "tags": null,
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-0b147dcd180c64087",
                "volume_size": 30,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-0062f96e488e60d8c",
            "tags": {
              "Environment": "staging",
              "ManagedBy": "Terraform",
              "Name": "jenkins-server",
              "Role": "Jenkins"
            },
            "tags_all": {
              "Environment": "staging",
              "ManagedBy": "Terraform",
              "Name": "jenkins-server",
              "Role": "Jenkins"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\n# Update system\napt-get update -y\napt-get upgrade -y\n\n# Install required packages\napt-get install -y \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release \\\n    software-properties-common \\\n    unzip \\\n    wget \\\n    git \\\n    openjdk-11-jdk \\\n    python3 \\\n    python3-pip \\\n    docker.io \\\n    awscli\n\n# Start and enable Docker\nsystemctl start docker\nsystemctl enable docker\nusermod -aG docker ubuntu\n\n# Install kubectl\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\"\ninstall -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n\n# Install Helm\ncurl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash\n\n# Add Jenkins repository and install Jenkins\nwget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | apt-key add -\necho \"deb https://pkg.jenkins.io/debian binary/\" \u003e /etc/apt/sources.list.d/jenkins.list\napt-get update -y\napt-get install -y jenkins\n\n# Configure Jenkins\nsystemctl start jenkins\nsystemctl enable jenkins\n\n# Configure Jenkins to run on port 8080\nsed -i \"s/HTTP_PORT=8080/HTTP_PORT=8080/g\" /etc/default/jenkins\nsystemctl restart jenkins\n\n# Create Jenkins user and add to docker group\nusermod -aG docker jenkins\n\n# Install Docker Compose\ncurl -L \"https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n# Create directory for Jenkins workspace\nmkdir -p /var/lib/jenkins/workspace\nchown -R jenkins:jenkins /var/lib/jenkins\n\n# Install Terraform\nwget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | tee /usr/share/keyrings/hashicorp-archive-keyring.gpg\necho \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | tee /etc/apt/sources.list.d/hashicorp.list\napt-get update -y\napt-get install -y terraform\n\necho \"Jenkins installation completed successfully!\"\necho \"Jenkins is running on port 8080\"\necho \"Get initial admin password: sudo cat /var/lib/jenkins/secrets/initialAdminPassword\"\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-08fcdd27179575683"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "i-000494fa374e25b6f",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.jenkins_instance_profile",
            "aws_iam_role.jenkins_role",
            "aws_key_pair.jenkins_key",
            "aws_security_group.jenkins_sg",
            "aws_subnet.public_zone1",
            "aws_vpc.main",
            "data.aws_ami.ami"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "igw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:internet-gateway/igw-0448dd7a74a4fc9bb",
            "id": "igw-0448dd7a74a4fc9bb",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-igw"
            },
            "tags_all": {
              "Name": "staging-igw"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "jenkins_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:key-pair/jenkins-key",
            "fingerprint": "46:cd:a3:08:44:21:23:ee:3c:16:c4:09:fe:5e:e1:a2",
            "id": "jenkins-key",
            "key_name": "jenkins-key",
            "key_name_prefix": "",
            "key_pair_id": "key-0e5ee51a66993b8cb",
            "key_type": "rsa",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCe7p2k10DblV3S4zwYBrljd5djKOQ55TG+1MOkFkpI97QUWL72p6n123nJ/ffXup4PlZ2l+JDAjus1njSOSCmTW5UREGrikR5NC4W6m8lt7ywCc5q4HYXMsUPVP1L98rR/wlbeQZf/oCTnGOjcyJ/l6/oUQfh3KhYAfg2nN2IdqeiHFhSuENF5HpPCkzTUPanfkE0FyBoccH3nHK86mWsSdSewIh2/hdUq8i3TtWJnWS2FFgq7llfQYtw+08QerdqBOqQqTIuskXN6xbg2Q8rKPl3iDSHM52fJCQpU6C1kKoHfqpddkgx7rnHiaAXJmsralO1pCPh0EgGYBfyldKH7gEA3ONJgtfi/Ti6gOD1tbf0i2fXdLVdDohHRa3Og+gRYBsTqL/T4AO9YWRF9guH9A+bAh2I7YcvjIxh2Dvb7vAhaDTw2iLNCdeolIcNqDNMDo2+03if8LOkEfR+Oz3ANrg8M/vorEx0LxpVQD9ncOO6TnuG1KI+UCU98VkRQ4VnjwNca1Zo32i7sA0GJKoU+wffudTTlI9CyixXMNFnFi7a0lZ6gMQaIWaMw5efwY8COYiwQ/02MYMJoGhkuchjrkqPYMliz8NLstc0YxMyL8nESJsuY5kIo0xVt8/XZiVhGy8stUW+Uw+okqckRrxWVVY7TlBniyPufqHPcyZcjzw== minhtri@minhtri",
            "region": "ap-southeast-2",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0ff161a25e92105ad",
            "association_id": "eipassoc-0598069f03fc43e9a",
            "connectivity_type": "public",
            "id": "nat-066565146dfe26ccc",
            "network_interface_id": "eni-03d19d839f2525fe4",
            "private_ip": "10.0.90.94",
            "public_ip": "52.64.245.247",
            "region": "ap-southeast-2",
            "secondary_allocation_ids": [],
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-0062f96e488e60d8c",
            "tags": {
              "Name": "staging-nat"
            },
            "tags_all": {
              "Name": "staging-nat"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:route-table/rtb-09385c24461cd1fed",
            "id": "rtb-09385c24461cd1fed",
            "owner_id": "675613596870",
            "propagating_vgws": [],
            "region": "ap-southeast-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-066565146dfe26ccc",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "staging-private"
            },
            "tags_all": {
              "Name": "staging-private"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "rtb-09385c24461cd1fed",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:route-table/rtb-0de0e93665fc99d7f",
            "id": "rtb-0de0e93665fc99d7f",
            "owner_id": "675613596870",
            "propagating_vgws": [],
            "region": "ap-southeast-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0448dd7a74a4fc9bb",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "staging-public"
            },
            "tags_all": {
              "Name": "staging-public"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "rtb-0de0e93665fc99d7f",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-06549269dd09dd615",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-09385c24461cd1fed",
            "subnet_id": "subnet-03613225628cd9027",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_route_table.private",
            "aws_subnet.private_zone1",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0d02eaf542961185b",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-09385c24461cd1fed",
            "subnet_id": "subnet-089efbac982e6d984",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.igw",
            "aws_nat_gateway.nat",
            "aws_route_table.private",
            "aws_subnet.private_zone2",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0732b46843417129c",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-0de0e93665fc99d7f",
            "subnet_id": "subnet-0062f96e488e60d8c",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_route_table.public",
            "aws_subnet.public_zone1",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0dd70153358f1833a",
            "region": "ap-southeast-2",
            "route_table_id": "rtb-0de0e93665fc99d7f",
            "subnet_id": "subnet-0371e72954590ecc1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.igw",
            "aws_route_table.public",
            "aws_subnet.public_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "jenkins_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:security-group/sg-08fcdd27179575683",
            "description": "Allow TLS inbound traffic",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-08fcdd27179575683",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "HTTP from VPC",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Jenkins",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "SSH",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "TLS from VPC",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "devsecops-sg",
            "name_prefix": "",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "devsecops-sg"
            },
            "tags_all": {
              "Name": "devsecops-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "sg-08fcdd27179575683",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-03613225628cd9027",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.0.0.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-03613225628cd9027",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-private-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "staging-private-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-03613225628cd9027",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-089efbac982e6d984",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.0.32.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-089efbac982e6d984",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-private-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "staging-private-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-089efbac982e6d984",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_zone1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0062f96e488e60d8c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.0.64.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0062f96e488e60d8c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-public-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "staging-public-ap-southeast-2a",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0062f96e488e60d8c",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_zone2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:subnet/subnet-0371e72954590ecc1",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.0.96.0/19",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0371e72954590ecc1",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "675613596870",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-public-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "staging-public-ap-southeast-2b",
              "kubernetes.io/cluster/staging-demo": "owned",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-05ea489e52b45db4d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "675613596870",
            "id": "subnet-0371e72954590ecc1",
            "region": "ap-southeast-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:675613596870:vpc/vpc-05ea489e52b45db4d",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-0da66955890849873",
            "default_route_table_id": "rtb-01276d131982c28c9",
            "default_security_group_id": "sg-086f7baf57f38f7d9",
            "dhcp_options_id": "dopt-0ccbcefb1dd41c4f6",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "id": "vpc-05ea489e52b45db4d",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-01276d131982c28c9",
            "owner_id": "675613596870",
            "region": "ap-southeast-2",
            "tags": {
              "Name": "staging-main"
            },
            "tags_all": {
              "Name": "staging-main"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "cluster_autoscaler",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "cluster-autoscaler",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "autoscaler",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "1.30.0",
              "chart": "cluster-autoscaler",
              "first_deployed": 1760756816,
              "last_deployed": 1760756816,
              "name": "autoscaler",
              "namespace": "kube-system",
              "notes": "\n\nTo verify that cluster-autoscaler has started, run:\n\n  kubectl --namespace=kube-system get pods -l \"app.kubernetes.io/name=aws-cluster-autoscaler,app.kubernetes.io/instance=autoscaler\"",
              "revision": 1,
              "values": "{\"autoDiscovery\":{\"clusterName\":\"staging-demo\"},\"awsRegion\":\"ap-southeast-2\",\"rbac\":{\"serviceAccount\":{\"name\":\"cluster-autoscaler\"}}}",
              "version": "9.37.0"
            },
            "name": "autoscaler",
            "namespace": "kube-system",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes.github.io/autoscaler",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "rbac.serviceAccount.name",
                "type": "",
                "value": "cluster-autoscaler"
              },
              {
                "name": "autoDiscovery.clusterName",
                "type": "",
                "value": "staging-demo"
              },
              {
                "name": "awsRegion",
                "type": "",
                "value": "ap-southeast-2"
              }
            ],
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "9.37.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "kube-system",
            "release_name": "autoscaler"
          },
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_eks_node_group.general",
            "aws_iam_role.eks",
            "aws_iam_role.nodes",
            "aws_iam_role_policy_attachment.amazon_ec2_container_registry_read_only",
            "aws_iam_role_policy_attachment.amazon_eks_cni_policy",
            "aws_iam_role_policy_attachment.amazon_eks_worker_node_policy",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "helm_release.metrics_server",
            "null_resource.wait_for_eks_connection"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "metrics_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "metrics-server",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "metrics-server",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "0.7.1",
              "chart": "metrics-server",
              "first_deployed": 1760756777,
              "last_deployed": 1760756777,
              "name": "metrics-server",
              "namespace": "kube-system",
              "notes": "***********************************************************************\n* Metrics Server                                                      *\n***********************************************************************\n  Chart version: 3.12.1\n  App version:   0.7.1\n  Image tag:     registry.k8s.io/metrics-server/metrics-server:v0.7.1\n***********************************************************************\n",
              "revision": 1,
              "values": "{}",
              "version": "3.12.1"
            },
            "name": "metrics-server",
            "namespace": "kube-system",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes-sigs.github.io/metrics-server/",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": null,
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "3.12.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "kube-system",
            "release_name": "metrics-server"
          },
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_eks_node_group.general",
            "aws_iam_role.eks",
            "aws_iam_role.nodes",
            "aws_iam_role_policy_attachment.amazon_ec2_container_registry_read_only",
            "aws_iam_role_policy_attachment.amazon_eks_cni_policy",
            "aws_iam_role_policy_attachment.amazon_eks_worker_node_policy",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main",
            "null_resource.wait_for_eks_connection"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "docker_compose",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "services:\n  # Client Frontend\n  client:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/client:latest\n    ports:\n      - \"3011:80\"\n    environment:\n      - VITE_API_URL=http://localhost:8089\n    depends_on:\n      - api-gateway\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # API Gateway\n  api-gateway:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/api-gateway:latest\n    ports:\n      - \"8089:8000\"\n    environment:\n      - PRODUCT_SERVICE_URL=http://product-service:8080\n      - ORDER_SERVICE_URL=http://order-service:8081\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n      - PAYMENT_SERVICE_URL=http://payment-service:8084\n    depends_on:\n      - product-service\n      - order-service\n      - inventory-service\n      - notification-service\n      - payment-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6381:6379\"\n    volumes:\n      - redis_data:/data\n    networks:\n      - microservices-network\n\n  # RabbitMQ\n  rabbitmq:\n    image: rabbitmq:3-management-alpine\n    ports:\n      - \"5672:5672\"\n      - \"15672:15672\"\n    environment:\n      - RABBITMQ_DEFAULT_USER=admin\n      - RABBITMQ_DEFAULT_PASS=admin123\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    networks:\n      - microservices-network\n\n  # Product Service\n  product-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/product-service:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - DB_HOST=product-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=products_db\n    depends_on:\n      - product-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Order Service\n  order-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/order-service:latest\n    ports:\n      - \"8081:8081\"\n    environment:\n      - DB_HOST=order-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=orders_db\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - RABBITMQ_HOST=rabbitmq\n      - RABBITMQ_PORT=5672\n      - RABBITMQ_USER=admin\n      - RABBITMQ_PASS=admin123\n      - INVENTORY_SERVICE_URL=http://inventory-service:8082\n      - NOTIFICATION_SERVICE_URL=http://notification-service:8083\n    depends_on:\n      - order-db\n      - inventory-service\n      - notification-service\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Inventory Service\n  inventory-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/inventory-service:latest\n    ports:\n      - \"8082:8082\"\n    environment:\n      - DB_HOST=inventory-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=inventory_db\n    depends_on:\n      - inventory-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Notification Service\n  notification-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/notification-service:latest\n    ports:\n      - \"8083:8083\"\n    environment:\n      - DB_HOST=notification-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=notifications_db\n    depends_on:\n      - notification-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Payment Service\n  payment-service:\n    image: 675613596870.dkr.ecr.ap-southeast-2.amazonaws.com/payment-service:latest\n    ports:\n      - \"8084:8084\"\n    environment:\n      - DB_HOST=payment-db\n      - DB_PORT=5432\n      - DB_USER=postgres\n      - DB_PASSWORD=canh177\n      - DB_NAME=payments_db\n      - STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}\n    depends_on:\n      - payment-db\n    restart: on-failure\n    networks:\n      - microservices-network\n\n  # Databases\n  product-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5441:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=products_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/product-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - product-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  order-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5442:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=orders_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/order-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - order-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  inventory-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5444:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=inventory_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/inventory-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - inventory-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  notification-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5445:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=notifications_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/notification-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - notification-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  payment-db:\n    image: postgres:14-alpine\n    ports:\n      - \"5446:5432\"\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=canh177\n      - POSTGRES_DB=payments_db\n      - POSTGRES_HOST_AUTH_METHOD=md5\n    volumes:\n      - ./db-init/payment-db-init.sql:/docker-entrypoint-initdb.d/init.sql\n      - payment-db-data:/var/lib/postgresql/data\n    networks:\n      - microservices-network\n\n  # Prometheus Monitoring\n  prometheus:\n    image: prom/prometheus:latest\n    ports:\n      - \"9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    networks:\n      - microservices-network\n\nvolumes:\n  product-db-data:\n  order-db-data:\n  inventory-db-data:\n  notification-db-data:\n  payment-db-data:\n  redis_data:\n  rabbitmq_data:\n  prometheus_data:\n\nnetworks:\n  microservices-network:\n    driver: bridge\n",
            "content_base64": null,
            "content_base64sha256": "12lWsyIgtR2+SdWvxxHj1T196LxPqo/88Oq7K3hYf+A=",
            "content_base64sha512": "twLeGqF6c2kXDzqv7mXT3I00igG3UQuTnTRv3+KugLvbuIs9T1JAIp4B9KmB3FbeoYtJto+N6/sX3AFtng6q6w==",
            "content_md5": "3d5de542fc1dbedcb303ca47a01c73a1",
            "content_sha1": "aa101d978c2936144dbb4e681d213aeec902177f",
            "content_sha256": "d76956b32220b51dbe49d5afc711e3d53d7de8bc4faa8ffcf0eabb2b78587fe0",
            "content_sha512": "b702de1aa17a7369170f3aafee65d3dc8d348a01b7510b939d346fdfe2ae80bbdbb88b3d4f5240229e01f4a981dc56dea18b49b68f8debfb17dc016d9e0eaaeb",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./../docker-compose.ecr.yml",
            "id": "aa101d978c2936144dbb4e681d213aeec902177f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current",
            "null_resource.build_and_push_images"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_and_push_images",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api-gateway",
          "schema_version": 0,
          "attributes": {
            "id": "8847551069182422371",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "client",
          "schema_version": 0,
          "attributes": {
            "id": "5689026087491340437",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "inventory-service",
          "schema_version": 0,
          "attributes": {
            "id": "1184758586852525797",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "notification-service",
          "schema_version": 0,
          "attributes": {
            "id": "5258156019854116721",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "order-service",
          "schema_version": 0,
          "attributes": {
            "id": "4919396419095129714",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "payment-service",
          "schema_version": 0,
          "attributes": {
            "id": "2066820063294140709",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "product-service",
          "schema_version": 0,
          "attributes": {
            "id": "4837841981921107284",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_ecr_repository.repositories",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "wait_for_eks_connection",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3882490917473999638",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_eks_cluster.eks",
            "aws_eks_node_group.general",
            "aws_iam_role.eks",
            "aws_iam_role.nodes",
            "aws_iam_role_policy_attachment.amazon_ec2_container_registry_read_only",
            "aws_iam_role_policy_attachment.amazon_eks_cni_policy",
            "aws_iam_role_policy_attachment.amazon_eks_worker_node_policy",
            "aws_iam_role_policy_attachment.eks",
            "aws_subnet.private_zone1",
            "aws_subnet.private_zone2",
            "aws_vpc.main"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
